<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>涂祎豪の博客</title>
  
  <subtitle>记录生活与学习的点点滴滴</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2020-11-16T08:16:14.396Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>涂祎豪</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>序列化和反序列化</title>
    <link href="http://example.com/2020/11/16/%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>http://example.com/2020/11/16/%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</id>
    <published>2020-11-16T08:15:52.697Z</published>
    <updated>2020-11-16T08:16:14.396Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h2><h3 id="serialVersionUID的作用"><a href="#serialVersionUID的作用" class="headerlink" title="serialVersionUID的作用"></a>serialVersionUID的作用</h3><p>Java序列化是将一个对象编码成一个字节流，反序列化将字节流编码转换成一个对象。序列化是Java中实现持久化存储的一个方法；为数据传输提供了线路级对象表示法。</p><p>Java的序列化机制是通过在运行时判断类的serialVersionUID来验证版本的一致性。在进行反序列化时，JVM会吧传来的字节流中的serialVersionUID与本地相应实体（类）的serialVersionUID进行比较，如果相同就认为是一致的，可以进行反序列化，否则就会出现序列化版本不一致的异常。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1585272726.png" alt="idea-generate-serialversionuid"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201113180438784.png" alt="image-20201113180438784"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>原子操作</title>
    <link href="http://example.com/2020/11/09/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/"/>
    <id>http://example.com/2020/11/09/%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/</id>
    <published>2020-11-09T01:16:29.492Z</published>
    <updated>2020-11-09T02:03:34.165Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="原子操作"><a href="#原子操作" class="headerlink" title="原子操作"></a>原子操作</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>​    子操作（atomic operation）指的是由多步操作组成的一个操作。如果该操作不能原子地执行，则要么执行完所有步骤，要么一步也不执行，不可能只执行所有步骤的一个子集。</p><h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><p>​    现代操作系统中，一般都提供了原子操作来实现一些同步操作，所谓原子操作，也就是一个<strong>独立而不可分割的操作</strong>。在单核环境中，一般的意义下原子操作中线程不会被切换，线程切换要么在原子操作之前，要么在原子操作完成之后。更广泛的意义下原子操作是指一系列必须整体完成的操作步骤，如果任何一步操作没有完成，那么所有完成的步骤都必须回滚，这样就可以保证要么所有操作步骤都未完成，要么所有操作步骤都被完成。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>异常处理</title>
    <link href="http://example.com/2020/11/09/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2020/11/09/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/</id>
    <published>2020-11-09T01:16:29.485Z</published>
    <updated>2020-11-09T02:03:14.490Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><blockquote><p>参考：<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1255943543190176">异常处理-廖雪峰的官方教程</a></p></blockquote><h3 id="Java的异常"><a href="#Java的异常" class="headerlink" title="Java的异常"></a>Java的异常</h3><p>调用方如何获知调用失败的信息？有两种方法：</p><p>方法一：约定返回错误码。</p><p>例如，处理一个文件，如果返回<code>0</code>，表示成功，返回其他整数，表示约定的错误码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> code = processFile(<span class="string">&quot;C:\\test.txt&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (code == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// ok:</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// error:</span></span><br><span class="line">    <span class="keyword">switch</span> (code) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="comment">// file not found:</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="comment">// no read permission:</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">// unknown error:</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为使用<code>int</code>类型的错误码，想要处理就非常麻烦。这种方式常见于底层C函数。</p><p>方法二：在语言层面上提供一个异常处理机制。</p><p>Java内置了一套异常处理机制，总是使用异常来表示错误。</p><p>异常是一种<code>class</code>，因此它本身带有类型信息。异常可以在任何地方抛出，但只需要在上层捕获，这样就和方法调用分离了：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    String s = processFile(“C:\\test.txt”);</span><br><span class="line">    <span class="comment">// ok:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">    <span class="comment">// file not found:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (SecurityException e) &#123;</span><br><span class="line">    <span class="comment">// no read permission:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    <span class="comment">// io error:</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    <span class="comment">// other error:</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为Java的异常是<code>class</code>，它的继承关系如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">                     ┌───────────┐</span><br><span class="line">                     │  Object   │</span><br><span class="line">                     └───────────┘</span><br><span class="line">                           ▲</span><br><span class="line">                           │</span><br><span class="line">                     ┌───────────┐</span><br><span class="line">                     │ Throwable │</span><br><span class="line">                     └───────────┘</span><br><span class="line">                           ▲</span><br><span class="line">                 ┌─────────┴─────────┐</span><br><span class="line">                 │                   │</span><br><span class="line">           ┌───────────┐       ┌───────────┐</span><br><span class="line">           │   Error   │       │ Exception │</span><br><span class="line">           └───────────┘       └───────────┘</span><br><span class="line">                 ▲                   ▲</span><br><span class="line">         ┌───────┘              ┌────┴──────────┐</span><br><span class="line">         │                      │               │</span><br><span class="line">┌─────────────────┐    ┌─────────────────┐┌───────────┐</span><br><span class="line">│OutOfMemoryError │... │RuntimeException ││IOException│...</span><br><span class="line">└─────────────────┘    └─────────────────┘└───────────┘</span><br><span class="line">                                ▲</span><br><span class="line">                    ┌───────────┴─────────────┐</span><br><span class="line">                    │                         │</span><br><span class="line">         ┌─────────────────────┐ ┌─────────────────────────┐</span><br><span class="line">         │NullPointerException │ │IllegalArgumentException │...</span><br><span class="line">         └─────────────────────┘ └─────────────────────────┘</span><br></pre></td></tr></table></figure><p>从继承关系可知：<code>Throwable</code>是异常体系的根，它继承自<code>Object</code>。<code>Throwable</code>有两个体系：<code>Error</code>和<code>Exception</code>，<code>Error</code>表示严重的错误，程序对此一般无能为力，例如：</p><ul><li><code>OutOfMemoryError</code>：内存耗尽</li><li><code>NoClassDefFoundError</code>：无法加载某个Class</li><li><code>StackOverflowError</code>：栈溢出</li></ul><p>而<code>Exception</code>则是运行时的错误，它可以被捕获并处理。例如：</p><ul><li><code>NumberFormateException</code>：数值类型的格式错误</li><li><code>FileNotFoundException</code>：未找到文件</li><li><code>SocketException</code>：读取网络失败</li></ul><p>还有一些异常是程序逻辑编写不对造成的，应该修复程序本身。例如：</p><ul><li><code>NullPointerException</code>：对某个<code>null</code>的对象调用方法或字段</li><li><code>IndexOutOfBoundsException</code>：数组索引越界</li></ul><p><code>Exception</code>又分为两大类：</p><ol><li><code>RuntimeException</code>以及它的子类；</li><li>非<code>RuntimeException</code>（包括<code>IOException</code>、<code>ReflectiveOperationException</code>等等）</li></ol><p>Java规定：</p><ul><li>必须捕获异常，包括<code>Exception</code>及其子类，但不包括<code>RuntimeException</code>及其子类，这种类型的异常成为Checked Exception。</li><li>不需要捕获的异常，包括<code>Error</code>及其子类，<code>RuntimeException</code>及其子类。</li></ul><p> <em>注意：编译器对RuntimeException及其子类不做强制捕获要求，不是指应用程序本身不应该捕获并处理RuntimeException。是否需要捕获，具体问题具体分析。</em></p><h4 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h4><p>捕获异常使用<code>try...catch</code>语句，把可能发生异常的代码放到<code>try &#123;...&#125;</code>中，然后使用<code>catch</code>捕获对应的<code>Exception</code>及其子类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try...catch</span></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">byte</span>[] toGBK(String s) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 用指定编码转换String为byte[]:</span></span><br><span class="line">            <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            <span class="comment">// 如果系统不支持GBK编码，会捕获到UnsupportedEncodingException:</span></span><br><span class="line">            System.out.println(e); <span class="comment">// 打印异常信息</span></span><br><span class="line">            <span class="keyword">return</span> s.getBytes(); <span class="comment">// 尝试使用用默认编码</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[-42, -48, -50, -60]</span><br></pre></td></tr></table></figure><p>如果我们不捕获<code>UnsupportedEncodingException</code>，会出现编译失败的问题：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// try...catch</span><br><span class="line">import java.io.UnsupportedEncodingException;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        byte[] bs = toGBK(&quot;中文&quot;);</span><br><span class="line">        System.out.println(Arrays.toString(bs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static byte[] toGBK(String s) &#123;</span><br><span class="line">        return s.getBytes(&quot;GBK&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果（报错）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Main.java:11: error: unreported exception UnsupportedEncodingException; must be caught or declared to be thrown</span><br><span class="line">        return s.getBytes(&quot;GBK&quot;);</span><br><span class="line">                         ^</span><br><span class="line">1 error</span><br><span class="line">error: compilation failed</span><br></pre></td></tr></table></figure><p>编译器会报错，错误信息类似：unreported exception</p><p>UnsupportedEncodingException; must be caught or declared to be thrown，并且准确地指出需要捕获的语句是<code>return s.getBytes(&quot;GBK&quot;);</code>。意思是说，像<code>UnsupportedEncodingException</code>这样的Checked Exception，必须被捕获。</p><p>这是因为<code>String.getBytes(String)</code>方法定义是：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">byte</span>[] getBytes(String charsetName) <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在方法定义的时候，使用<code>throws XXX</code>表示该方法可能抛出的异常类型。掉用方法在掉用的时候，必须强制捕获这些异常，否则编译器会报错。</p><p>在<code>toGBK()</code>方法中，因为掉用<code>String.getBytes(String)</code>方法，就必须捕获<code>UnsupportedEncodingException</code>。我们也可以不捕获它，而是在方法定义出用throws表示<code>toGBK()</code>方法可能会抛出<code>UnsupportedEncodingException</code>，就可以让<code>toGBK()</code>方法通过编译器检查：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try...catch</span></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">byte</span>[] toGBK(String s) <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果（报错）：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Main.java:<span class="number">6</span>: error: unreported exception UnsupportedEncodingException; must be caught or declared to be thrown</span><br><span class="line">        <span class="keyword">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">                         ^</span><br><span class="line"><span class="number">1</span> error</span><br><span class="line">error: compilation failed</span><br></pre></td></tr></table></figure><p>上述代码仍然会得到编译错误，但这一次，编译器提示的不是调用<code>return s.getBytes(&quot;GBK&quot;);</code>的问题，而是<code>byte[] bs = toGBK(&quot;中文&quot;);</code>。因为在<code>main()</code>方法中，调用<code>toGBK()</code>，没有捕获它声明的可能抛出的<code>UnsupportedEncodingException</code>。</p><p>修复方法是在<code>main()</code>方法中捕获异常并处理：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try...catch</span></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">            System.out.println(Arrays.toString(bs));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">byte</span>[] toGBK(String s) <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="comment">// 用指定编码转换String为byte[]:</span></span><br><span class="line">        <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[-<span class="number">42</span>, -<span class="number">48</span>, -<span class="number">50</span>, -<span class="number">60</span>]</span><br></pre></td></tr></table></figure><p>可见，只要是方法声明的Checked Exception，不在调用层捕获，也必须在更高的调用层捕获。所有未捕获的异常，最终也必须在<code>main()</code>方法中捕获，不会出现漏写<code>try</code>的情况。这是由编译器保证的。<code>main()</code>方法也是最后捕获<code>Exception</code>的机会。</p><p>如果是测试代码，上面的写法就略显麻烦。如果不想写任何<code>try</code>代码，可以直接把<code>main()</code>方法定义为<code>throws Exception</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// try...catch</span></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">byte</span>[] bs = toGBK(<span class="string">&quot;中文&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">byte</span>[] toGBK(String s) <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="comment">// 用指定编码转换String为byte[]:</span></span><br><span class="line">        <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[-<span class="number">42</span>, -<span class="number">48</span>, -<span class="number">50</span>, -<span class="number">60</span>]</span><br></pre></td></tr></table></figure><p>因为<code>main()</code>方法声明了可能抛出<code>Exception</code>，也就声明了可能抛出所有的<code>Exception</code>，因此在内部就无需捕获了。代价就是一旦发生异常，程序会立刻退出。</p><p>还有一些童鞋喜欢在<code>toGBK()</code>内部“消化”异常：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">byte</span>[] toGBK(String s) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        <span class="comment">// 什么也不干</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>这种捕获后不处理的方式是非常不好的，即使真的什么也做不了，也要先把异常记录下来：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">byte</span>[] toGBK(String s) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        <span class="comment">// 先记下来再说:</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>所有异常都可以调用<code>printStackTrace()</code>方法打印异常栈，这是一个简单有用的快速打印异常的方法。</p><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>Java使用异常来表示错误，并通过<code>try ... catch</code>捕获异常；</p><p>Java的异常是<code>class</code>，并且从<code>Throwable</code>继承；</p><p><code>Error</code>是无需捕获的严重错误，<code>Exception</code>是应该捕获的可处理的错误；</p><p><code>RuntimeException</code>无需强制捕获，非<code>RuntimeException</code>（Checked Exception）需强制捕获，或者用<code>throws</code>声明；</p><p>不推荐捕获了异常但不进行任何处理。</p><h3 id="捕获异常-1"><a href="#捕获异常-1" class="headerlink" title="捕获异常"></a>捕获异常</h3><p>在Java中，凡是可能抛出异常的语句，都可以用<code>try ... catch</code>捕获。把可能发生异常的语句放在<code>try &#123; ... &#125;</code>中，然后使用<code>catch</code>捕获对应的<code>Exception</code>及其子类。</p><h4 id="多catch语句"><a href="#多catch语句" class="headerlink" title="多catch语句"></a>多catch语句</h4><p>可以使用多个<code>catch</code>语句，每个<code>catch</code>分别捕获对应的<code>Exception</code>及其子类。JVM在捕获到异常后，会从上到下匹配<code>catch</code>语句，匹配到某个<code>catch</code>后，执行<code>catch</code>代码块，然后<em>不再</em>继续匹配。</p><p>简单地说就是：多个<code>catch</code>语句只有一个能被执行。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(e);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">        System.out.println(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>存在多个<code>catch</code>的时候，<code>catch</code>的顺序非常重要：子类必须写在前面。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;IO error&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123; <span class="comment">// 永远捕获不到</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Bad encoding&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于上面的代码，<code>UnsupportedEncodingException</code>异常是永远捕获不到的，因为它是<code>IOException</code>的子类。当抛出<code>UnsupportedEncodingException</code>异常时，会被<code>catch (IOException e) &#123; ... &#125;</code>捕获并执行。</p><p>因此，正确的写法是把子类放到前面：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad encoding&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;IO error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="finally语句"><a href="#finally语句" class="headerlink" title="finally语句"></a>finally语句</h4><p>无论是否有异常发生，如果我们都希望执行一些语句，例如清理工作，怎么写？</p><p>可以把执行语句写若干遍：正常执行的放到<code>try</code>中，每个<code>catch</code>再写一遍。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad encoding&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;IO error&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上述代码无论是否发生异常，都会执行<code>System.out.println(&quot;END&quot;);</code>这条语句。</p><p>那么如何消除这些重复的代码？Java的<code>try ... catch</code>机制还提供了<code>finally</code>语句，<code>finally</code>语句块保证有无错误都会执行。上述代码可以改写如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad encoding&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;IO error&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意<code>finally</code>有几个特点：</p><ol><li><code>finally</code>语句不是必须的，可写可不写；</li><li><code>finally</code>总是最后执行。</li></ol><p>如果没有发生异常，就正常执行<code>try &#123; ... &#125;</code>语句块，然后执行<code>finally</code>。如果发生了异常，就中断执行<code>try &#123; ... &#125;</code>语句块，然后跳转执行匹配的<code>catch</code>语句块，最后执行<code>finally</code>。</p><p>可见，<code>finally</code>是用来保证一些代码必须执行的。</p><p>某些情况下，可以没有<code>catch</code>，只使用<code>try ... finally</code>结构。例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">process</span><span class="params">(String file)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;END&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为方法声明了可能抛出的异常，所以可以不写<code>catch</code>。</p><h4 id="捕获多种异常"><a href="#捕获多种异常" class="headerlink" title="捕获多种异常"></a>捕获多种异常</h4><p>如果某些异常的处理逻辑相同，但是异常本身不存在继承关系，那么就得编写多条<code>catch</code>子句：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad input&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bad input&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Unknown error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为处理<code>IOException</code>和<code>NumberFormatException</code>的代码是相同的，所以我们可以把它两用<code>|</code>合并到一起：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        process1();</span><br><span class="line">        process2();</span><br><span class="line">        process3();</span><br><span class="line">    &#125; catch (IOException | NumberFormatException e) &#123; &#x2F;&#x2F; IOException或NumberFormatException</span><br><span class="line">        System.out.println(&quot;Bad input&quot;);</span><br><span class="line">    &#125; catch (Exception e) &#123;</span><br><span class="line">        System.out.println(&quot;Unknown error&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><p>用<code>try ... catch</code>捕获异常并处理。</p><p>从<a href="https://gitee.com/"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAYCAMAAABjozvFAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURf////zz8//9/f34+PXMzPbV1Pba2f////TJyPPFxf38+////wAAAMcdI7sAAMMADQEBAbgAALwAALoAALkAAL8AAMopLskgJsgiJ8cfJfbS0vzy8ckoLLMAAM87Pd3d3cgbInt7e8YPGnBwcMcXH4CAgL0AALcAAOB7et1tboWFhUNDQwcHB8MAD1ZWVsEAAdXV1cYMGb4AABQUFLUAAMQBEwMDA+Hh4aysrJ2dnTIyMh4eHvT09Ombmvn5+cDAwKGhofv7+7YAADQ0NN9yc/ro6aWlpcIACsAAABcXF5KSknd3d0dHRw0NDWxsbMMAC/G8vO+0syUlJcUUHBwcHEVFRVBQUPX19cQAEf7+/kBAQM7OzlNTU8AABsIABrQAAP329scRG8ssL91ubvPz86ioqOqfn8rKykJCQsXFxdvb25+fn6Kior29vQkJCZWVldtlZeKCgampqSYmJhEREQ8PD7e3tycnJ7S0tNFCROuhoP3y8pubm4yMjGZmZsjIyE1NTfLAwPrj5ImJicMHFe/v73FxcdHR0QwMDNra2uJ/fuypqNA/QJaWln5+fnR0dPnf3mNjY1lZWUtLS+qjopiYmCoqKsgjKNZUVeaQkDY2NiIiIs01OOrq6swvMsUKF8EABN92djw8POB7e8nJycojKM45PP3z8s87PvfX1u+0tMQEFOTk5IKCgu7u7tlhYeulpNhdXTg4OPfZ2PTNzPnf4BoaGqSkpPTKyuyoqMHBweyrrNfX1/Dw8E9PT8/Pz42Nja6uroiIiGFhYf37+ttkZHp6eufn5+SLi0FBQYaGhnNzc5mZmdpgYOB4d8IAEVhYWFJSUsklKcvLy8QPGvXR0OiYmbKyso+Pj7GxsdLS0nx8fMcXHhYWFv79/eB3d8EADOeUlPXT0uF6eV1dXeSKihISEsTExIODg9JHST4+Pvvv7/rn5/zx8NxpatJFRt1wcfvq6q4AAPjc2990dasAAMYbIddYWfXOze2ur++3t////uF+ff3399hbXMkeJnevGJYAAAALdFJOU/Ly8vLy8vLl8vLy6tdKuQAAA5RJREFUOMullWd4FFUUhhdRg55vNtsLapLVZXdJ7zFogBTSe4f0Qu8dlA4CAULvvXcQ7KiAXYqCgmLHCtbYu1ju3JnZzY/wrIHvx73n3Oebd55zq8pH5VaHmzrdcuPNquuQj4oUdd5iCQlLrzq78UQvalsHG8mbVArvjFFb/UbR+0UR6dqQhDato4aN7eGVJuFa1ifNMgtcVnNV0otteWOB0azbH+cV90K91rwqxKGWpEtzjmjD+1xwTk+i/rGagd5wrzpXmdU7fuva0JWpoWFBTE3C1b4YDNztBTfdabfoVntWoJ82JP1RJZk6O3vKM5Mzm2hD86QyGjgAmBboz8b7Twla+hZ3xGUFHRviwfVeoDMbN7Ls4l8S4ZLekjRSpi2EpHtoETCYpGQA0UweLGKOCbFilO3GPWwsEgzL6e8r/+70Y9rtt8MupFnu57RwoLi5BFjZTLlAIAXNBTLGD6ehQFToSqAH+QPDXgsC+iq4+/RCXfUe+rPG6LyDy2gSAnT5HPcS8A6RBq8Q3QW8R1QJsAWhEkSxthhZtAQaVvtaJCu4FL01onwP/aHb988Vl8u1bdvEciFAfYjjhgOTqUmDUxzXhSgUSCU6qkHUksrPLmMZnYRmaWVoBtBdxh3WCXf6dqa9hhh5vi5oGa4fD7snA6U5QJyCe12cQbFCSbmULEfrFNyDagmnj/m9tnYXY6zRu3E0SrSOFveGhFvGN8q9wRi7vWJ7eEUi9QEmzJka/m6jUuw8g1XEFTjqzPX1v5p+EHGCej6nPRCFz8su8tBdbC5LSqFJlf53mg+32ncF6gARd+RHvTM6+pd9LfSxQbA7HlFWNvuLhba35xA9D8wmyhQ3TTwdZ90Hhcgoo4NjgLnjAX8F1ytvlohb/P0Wl+vnlJ+IPtVbIyfKP5wmT80kCgTiiRofYkk3onHFfDeyEgd1E6Pgp92nYoShzneG56h88tEmS/RyKd6wNbikz1drNRhDNPRJPtTXdqCJdYmpWTb5hhlnsz2b6DlkMxyb8/Jv+7pF1K5vCjZFmnSmWsm5FetY2zsHj9H/kHwFJNREWE23c5mskdWmNMMTsoGtW2nmzEJgSDtwlBIdFuPLlVduP2fUHlEML/OJQeHj1B4cjVSr7dL9aYnQGp9qZTm/IjC+gqh9OJq+U2eI3FwV5tCGrV5M1yiV5+mh/G+/81u/+8sP36Rrl8qn9cN2a8cbVNf1MP4HCWMMeoGMWdIAAAAASUVORK5CYII=" alt="img"></a>下载练习：<a href="https://gitee.com/liaoxuefeng/learn-java/blob/master/practices/Java%E6%95%99%E7%A8%8B/30.%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.1255943543190176/20.%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8.1264738442933472/exception-catch.zip?utm_source=blog_lxf">捕获异常练习</a> （推荐使用<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）</p><h4 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h4><p>使用<code>try ... catch ... finally</code>时：</p><ul><li>多个<code>catch</code>语句的匹配顺序非常重要，子类必须放在前面；</li><li><code>finally</code>语句保证了有无异常都会执行，它是可选的；</li><li>一个<code>catch</code>语句也可以匹配多个非继承关系的异常。</li></ul><h3 id="抛出异常"><a href="#抛出异常" class="headerlink" title="抛出异常"></a>抛出异常</h3><p>//</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>亚信笔试记录</title>
    <link href="http://example.com/2020/11/09/%E4%BA%9A%E4%BF%A1%E7%AC%94%E8%AF%95%E8%AE%B0%E5%BD%95/"/>
    <id>http://example.com/2020/11/09/%E4%BA%9A%E4%BF%A1%E7%AC%94%E8%AF%95%E8%AE%B0%E5%BD%95/</id>
    <published>2020-11-09T01:16:29.476Z</published>
    <updated>2020-11-09T02:37:37.712Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="亚信笔试记录"><a href="#亚信笔试记录" class="headerlink" title="亚信笔试记录"></a>亚信笔试记录</h2><blockquote><p>作者：涂祎豪</p></blockquote><ol><li><p>JavaEE是技术平台还是框架？什么是JavaEE？</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JavaEE是具有JVM和一组特定API的编写网络应用程序的平台</span><br></pre></td></tr></table></figure></li><li><p>“==”和equals方法有什么区别？</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.基本数据类型，用“&#x3D;&#x3D;”作比较，比较的是值</span><br><span class="line">2.复合数据类型，用“&#x3D;&#x3D;”比较的是他们在内存中存放地址</span><br><span class="line">用equals时，如果该数据类型没有重写equals方法，则与使用“&#x3D;&#x3D;”结果相同（比如String）</span><br></pre></td></tr></table></figure></li><li><p>接口是否可继承接口？抽象类是否可实现（implements）接口？</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.可以</span><br><span class="line">2.可以</span><br></pre></td></tr></table></figure></li><li><p>如何把一段逗号分割的字符串转换成一个数组？</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">split(&quot;,&quot;);</span><br></pre></td></tr></table></figure></li><li><p>请写出你最常见到的5个runtime exception </p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">View codeNullPointerException - 空指针引用异常</span><br><span class="line">ClassCastException - 类型强制转换异常。</span><br><span class="line">IllegalArgumentException - 传递非法参数异常。</span><br><span class="line">ArithmeticException - 算术运算异常</span><br><span class="line">ArrayStoreException - 向数组中存放与声明类型不兼容对象异常</span><br><span class="line">IndexOutOfBoundsException - 下标越界异常</span><br><span class="line">NegativeArraySizeException - 创建一个大小为负数的数组错误异常</span><br><span class="line">NumberFormatException - 数字格式异常</span><br><span class="line">SecurityException - 安全异常</span><br><span class="line">UnsupportedOperationException - 不支持的操作异常</span><br></pre></td></tr></table></figure></li><li><p>List和Map区别？</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List继承自Collection接口</span><br><span class="line">Map是顶级接口</span><br><span class="line">list只能保存一列表;Map&lt;k,v&gt;能保存2列表</span><br></pre></td></tr></table></figure></li><li><p>什么是Java序列化，如何实现Java序列化？或者请解释serializable接口的作业</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">    </span><br></pre></td></tr></table></figure></li><li><p>请写出用于校验HTML文本框中输入的内容全部为数字的JavaScript代码</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">isNaN()</span><br></pre></td></tr></table></figure></li><li><p>如何用SQL根据部门从高到低，工资从低到高列出每个员工的信息</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select  i_id, u_id from orders ORDER BY i_id DESC , u_id ASC</span><br></pre></td></tr></table></figure></li><li><p>union和union all有什么不同？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> Union 和 Union All 的区别之一在于对重复结果的处理。</span><br><span class="line">UNION 在进行表链接后会筛选掉重复的记录， 所以在表链接后会对所产生的结果集进行排</span><br><span class="line">序运算， 删除重复的记录再返回结果。 实际大部分应用中是不会产生重复的记录， 最常见的</span><br><span class="line">是过程表与历史表 UNION。</span><br></pre></td></tr></table></figure></li></ol><p>11. </p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>项目测试学习</title>
    <link href="http://example.com/2020/11/09/%E9%A1%B9%E7%9B%AE%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2020/11/09/%E9%A1%B9%E7%9B%AE%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0/</id>
    <published>2020-11-09T01:16:29.470Z</published>
    <updated>2020-11-09T02:02:27.194Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="项目测试学习"><a href="#项目测试学习" class="headerlink" title="项目测试学习"></a>项目测试学习</h1><h2 id="ps-ef-grep"><a href="#ps-ef-grep" class="headerlink" title="ps -ef|grep"></a>ps -ef|grep</h2><p>ps：将某个进程显示出来</p><p>grep：时查找</p><p>|：管道命令，是指ps命令与grep同时执行</p><p>PS是LINUX下最常用的也是非常强大的进程查看命令</p><p>grep命令时查找，是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。</p><p>grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。</p><p>一下这条命令是检查java进程是否存在：ps -ef |grep java</p><p>字段含义入下：</p><table><thead><tr><th>UID</th><th>PID</th><th>PPID</th><th>C</th><th>STIME</th><th>TTY</th><th>TIME</th><th>CMD</th></tr></thead><tbody><tr><td>zzw</td><td>14124</td><td>13991</td><td>0</td><td>00:38</td><td>pts/0</td><td>00:00:00</td><td>grep –color=auto dae</td></tr></tbody></table><p><strong>UID   ：程序被该 UID 所拥有</strong></p><p><strong>PID   ：就是这个程序的 ID</strong> </p><p><strong>PPID  ：则是其上级父程序的ID</strong></p><p><strong>C     ：CPU使用的资源百分比</strong></p><p><strong>STIME ：系统启动时间</strong></p><p><strong>TTY   ：登入者的终端机位置</strong></p><p><strong>TIME  ：使用掉的CPU时间。</strong></p><p><strong>CMD  ：所下达的是什么指令</strong></p><p>ps -e|grep dae</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1096650-20171220163902959-802682642.png" alt="img"></p><p>ps -f|grep dae</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1096650-20171220163937521-2114171705.png" alt="img"></p><p>[zzw@localhost 网设大作业]$ ps -ef|grep dae</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1096650-20171220163606068-1216216427.png" alt="img"></p><h2 id="kill-与-kill-9"><a href="#kill-与-kill-9" class="headerlink" title="kill 与 kill -9"></a>kill 与 kill -9</h2><ol><li><p>我们经常会用到<code>kill</code>命令去杀死一个进程，但是有时会出现kill不成功的现象，这是就要用到<code>kill -9</code>。</p></li><li><p>之所以这两个命令会有区别是因为所发送的**信号(Signal)**是不同的：</p><p> 默认情况下<code>kill</code>命令的参数为<code>-15</code>，如下图所示：</p><p> <img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/10118224-625e74bf4a2d4204.png" alt="img"></p><p> <code>kill -15</code>代表的信号为<code>SIGTERM</code>，这是告诉进程你<strong>需要被关闭，请自行停止运行并退出</strong>；</p><p> 而<code>kill -9</code>代表的信号是<code>SIGKILL</code>，表示进程被终止，需要<strong>立即退出</strong>；</p></li><li><p>因此<code>kill -9</code>表示强制杀死该进程，这个信号<strong>不能被捕获也不能被忽略</strong>。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>瞎几把记</title>
    <link href="http://example.com/2020/11/09/%E7%9E%8E%E5%87%A0%E6%8A%8A%E8%AE%B0/"/>
    <id>http://example.com/2020/11/09/%E7%9E%8E%E5%87%A0%E6%8A%8A%E8%AE%B0/</id>
    <published>2020-11-09T01:16:29.465Z</published>
    <updated>2020-11-09T02:01:55.034Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="瞎几把记"><a href="#瞎几把记" class="headerlink" title="瞎几把记"></a>瞎几把记</h2><p>8年以上工作难度，要求难度，leetcode随机从8000个题库里抽出来中等难度2道题，必须在20分钟内输出结果，满足时间和空间复杂度最低。要求能手撕红黑树，对redis源码,netty,epoll模型等有深入研究，有大量jvm性能调优经验。精通juc编程，精通分布式事务解决方案，对mysql的mvcc底层readview源码有深入研究。对spring源码，srpingboot,springcloud源码需要有深入研究，对各种中间件源码需要有深入理解和运用；8年以上工作难度，要求难度，leetcode随机从8000个题库里抽出来中等难度2道题，必须在20分钟内输出结果，满足时间和空间复杂度最低。要求能手撕红黑树，对redis源码,netty,epoll模型等有深入研究，有大量jvm性能调优经验。精通juc编程，精通分布式事务解决方案，对mysql的mvcc底层readview源码有深入研究。对spring源码，srpingboot,springcloud源码需要有深入研究，对各种中间件源码需要有深入理解和运用；</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2020/11/09/%E6%9C%AA%E5%91%BD%E5%90%8D/"/>
    <id>http://example.com/2020/11/09/%E6%9C%AA%E5%91%BD%E5%90%8D/</id>
    <published>2020-11-09T01:16:29.460Z</published>
    <updated>2020-10-21T09:02:08.029Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20201021153834262.png" alt="image-20201021153834262"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2020/11/09/%E5%A6%82%E4%BD%95%E5%9C%A8IntellIj%20IDEA%E4%B8%AD%E9%9B%86%E6%88%90Gitlab/"/>
    <id>http://example.com/2020/11/09/%E5%A6%82%E4%BD%95%E5%9C%A8IntellIj%20IDEA%E4%B8%AD%E9%9B%86%E6%88%90Gitlab/</id>
    <published>2020-11-09T01:16:29.455Z</published>
    <updated>2020-10-29T11:46:09.071Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="如何在IntellIj-IDEA中集成Gitlab"><a href="#如何在IntellIj-IDEA中集成Gitlab" class="headerlink" title="如何在IntellIj IDEA中集成Gitlab"></a>如何在IntellIj IDEA中集成Gitlab</h2><p>（1）在File =&gt; Setting =&gt; Plugins 中搜索gitlab</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1875894-87961faac0a36914.jpg" alt="img"></p><p>（2）安装这个插件</p><p>（3）重启IDEA，再次点击菜单栏 VCS =&gt; Checkout From Version Control ，就会发现这次已经有了gitlab选项</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1875894-63e600a0ac3a1ca5.jpg" alt="img"></p><p>（4）确认安装成功之后，开始配置gitlab</p><ul><li>第一栏填写gitlab服务器地址,如<a href="https://gitlab.com/">https://gitlab.com/</a> (如果是私服,请换成私服地址)</li><li>第二栏填写repositories地址(若服务器地址填写正确,此处可不填)</li><li>第三栏填写第三步中的<strong>Private token</strong></li><li>第四栏可选择SSH方式和HTTP方式,一般选择HTTP方式<br>  填写完成后点击ok,就会出现以下页面</li></ul><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/20190819100332864.png" alt="在这里插入图片描述"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>进程组优化需求原型（浙江亚信）</title>
    <link href="http://example.com/2020/11/09/%E8%BF%9B%E7%A8%8B%E7%BB%84%E4%BC%98%E5%8C%96%E9%9C%80%E6%B1%82%E5%8E%9F%E5%9E%8B/"/>
    <id>http://example.com/2020/11/09/%E8%BF%9B%E7%A8%8B%E7%BB%84%E4%BC%98%E5%8C%96%E9%9C%80%E6%B1%82%E5%8E%9F%E5%9E%8B/</id>
    <published>2020-11-09T01:16:29.447Z</published>
    <updated>2020-11-09T02:00:14.980Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="进程组优化需求原型（浙江亚信）"><a href="#进程组优化需求原型（浙江亚信）" class="headerlink" title="进程组优化需求原型（浙江亚信）"></a>进程组优化需求原型（浙江亚信）</h2><p>关注</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/a43275c33af51e8484ff88aca926608.png" alt="a43275c33af51e8484ff88aca926608"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">TopteaLogger类中缺少方法：</span></span><br><span class="line"><span class="comment">getLogger</span></span><br><span class="line"><span class="comment">info</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ModuleObjectAucListManagerImpl类中缺少方法</span></span><br><span class="line"><span class="comment">setType</span></span><br><span class="line"><span class="comment">setRemark</span></span><br><span class="line"><span class="comment">setModule</span></span><br><span class="line"><span class="comment">setId</span></span><br><span class="line"><span class="comment">setName</span></span><br><span class="line"><span class="comment">setCreateBy</span></span><br><span class="line"><span class="comment">setProId</span></span><br><span class="line"><span class="comment">setCreateTime</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>解析xml文件的几种技术</title>
    <link href="http://example.com/2020/11/09/%E8%A7%A3%E6%9E%90xml%E6%96%87%E4%BB%B6%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF/"/>
    <id>http://example.com/2020/11/09/%E8%A7%A3%E6%9E%90xml%E6%96%87%E4%BB%B6%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF/</id>
    <published>2020-11-09T01:16:29.442Z</published>
    <updated>2020-11-09T02:01:05.233Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="解析xml文件的几种技术"><a href="#解析xml文件的几种技术" class="headerlink" title="解析xml文件的几种技术"></a>解析xml文件的几种技术</h2><h3 id="1、解析xml的几种技术"><a href="#1、解析xml的几种技术" class="headerlink" title="1、解析xml的几种技术"></a>1、解析xml的几种技术</h3><h4 id="1-dom4j"><a href="#1-dom4j" class="headerlink" title="1. dom4j"></a>1. dom4j</h4><p>​    dom4j是一个Java的XML API，类似于jdom，用来读写XML文件的。dom4j是一个非常优秀的Java XML API，具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。</p><h4 id="2-sax"><a href="#2-sax" class="headerlink" title="2. sax"></a>2. sax</h4><p>​    SAX（simple API for XML）是一种XML解析的替代方法。相比于DOM，SAX是一种速度更快，更有效的方法。它逐行扫描文档，一边扫描一边解析。而且相比于DOM，SAX可以在解析文档的任意时刻停止解析，但任何事物都有其相反的一面，对于SAX来说就是操作复杂。</p><h4 id="3-jaxb"><a href="#3-jaxb" class="headerlink" title="3. jaxb"></a>3. jaxb</h4><p>​    JAXB（Java Architecture forXML Binding) 是一个业界的标准，是一项可以根据XML Schema产生Java类的技术。该过程中，JAXB也提供了将XML实例文档反向生成Java对象树的方法，并能将Java对象树的内容重新写到XML实例文档。从另一方面来讲，JAXB提供了快速而简便的方法将XML模式绑定到Java表示，从而使得Java开发者在Java应用程序中能方便地结合XML数据和处理函数。</p><h3 id="2、dom4j-与-sax-之间的对比：【注：必须掌握！】"><a href="#2、dom4j-与-sax-之间的对比：【注：必须掌握！】" class="headerlink" title="2、dom4j 与 sax 之间的对比：【注：必须掌握！】"></a>2、dom4j 与 sax 之间的对比：【注：必须掌握！】</h3><p>​    dom4j不适合大文件的解析，因为他是一下子将文件加载到内存中，所以可能出现内存溢出。</p><p>​    sax是基于时间来对xml进行解析的，所以他可以解析大文件的xml。</p><p>​    也正是因为如此，所以dom4j可以对xml进行灵活的增删改查和导航，而sax没有这么强的灵活性。</p><p>​    所以sax经常是用来解析大型xml文件，而要对xml文件进行一些灵活（crud）操作就用dom4j。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>zookeeper 学习</title>
    <link href="http://example.com/2020/11/09/zookeeper%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2020/11/09/zookeeper%E5%AD%A6%E4%B9%A0/</id>
    <published>2020-11-09T01:16:29.427Z</published>
    <updated>2020-11-09T01:58:59.080Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="zookeeper-学习"><a href="#zookeeper-学习" class="headerlink" title="zookeeper 学习"></a>zookeeper 学习</h2><blockquote><p>作者：涂祎豪</p></blockquote><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>简介：Zookeeper是Apacahe Hadoop的子项目，是一个树型的目录服务，支持变更推送，适合作为Dubbo服务的注册中心，工业强度较高，可用于生产环境，并推荐使用。</p><ol><li>可以作为集群的管理工具使用。</li><li>可以集中管理配置文件。</li></ol><p>注册中心负责服务地址的注册与查找，相当于目录服务，服务提供者和消费者只在启动时与注册中心交互，注册中心不转发请求，压力较小。</p><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><p>Zookeeper中的角色主要有以下三类，如下表所示：</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/1625340-3e017807fcf8cc13.png" alt="img"></p><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>官网下载：<a href="https://zookeeper.apache.org/releases.html#download">zookeeper</a></p><p>百度云下载：<a href="https://pan.baidu.com/s/1a-EAx8ddGxBxxrV6loEpWg">apache-zookeeper-3.6.2</a>     提取码：2333</p><h3 id="Linux中安装"><a href="#Linux中安装" class="headerlink" title="Linux中安装"></a>Linux中安装</h3><ol><li><p>将下载文件上传到Linux中（使用XFTP或者SecurityCRT）</p></li><li><p>解压</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">    </span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>XML 转 Excel工具</title>
    <link href="http://example.com/2020/11/09/XML%20%E8%BD%AC%20Excel%E5%B7%A5%E5%85%B7/"/>
    <id>http://example.com/2020/11/09/XML%20%E8%BD%AC%20Excel%E5%B7%A5%E5%85%B7/</id>
    <published>2020-11-09T01:16:29.422Z</published>
    <updated>2020-11-09T01:58:35.109Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="XML-转-Excel工具"><a href="#XML-转-Excel工具" class="headerlink" title="XML 转 Excel工具"></a>XML 转 Excel工具</h2><blockquote><p>说明：适合数据库导出为XML转Excel，基于maven工程</p></blockquote><p>dom4j的maven依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>dom4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dom4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>主要代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ai.toptea.ctlm.excelEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.dom4j.Document;</span><br><span class="line"><span class="keyword">import</span> org.dom4j.DocumentException;</span><br><span class="line"><span class="keyword">import</span> org.dom4j.Element;</span><br><span class="line"><span class="keyword">import</span> org.dom4j.io.SAXReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> XML转Excel工具</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tuyh3(tuyh3 @ asiainfo.com)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/10/29 11:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">XmlUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Boolean aBoolean = xmlToExcelFile(<span class="string">&quot;D:\\test3.xml&quot;</span>, <span class="string">&quot;D:\\test3.xlsx&quot;</span>);</span><br><span class="line">        System.out.println(aBoolean);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Xml转Excel文件</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> strXmlFilePath Xml文件路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> strExcleFilePath Excel文件存放路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title">xmlToExcelFile</span><span class="params">(String strXmlFilePath, String strExcleFilePath)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//判断传入路径是否为空</span></span><br><span class="line">        <span class="keyword">if</span>(StringUtil.isTrimNull(strXmlFilePath) || StringUtil.isTrimNull(strExcleFilePath)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取XML数据，数据以List&lt;List&lt;String&gt;&gt;形式存储</span></span><br><span class="line">        List&lt;List&lt;String&gt;&gt; listList = readXml(strXmlFilePath);</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">null</span> == listList || listList.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//新建fileName文件的excel，然后把list内容写进去。.xls或者是.xlsx</span></span><br><span class="line">        <span class="keyword">return</span> ExcelUtil.createExcelFile(strExcleFilePath, listList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 读取Xml文件，以List&lt;List&lt;String&gt;&gt;形式返回、适合sql导出的xml</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> strFile : xml文件路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;String&gt;&gt; readXml(String strFile) &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * StringUtil.isTrimNull()：判断是否为空(忽略前导空白和尾部空白)</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span>(StringUtil.isTrimNull(strFile)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * dom4j读取xml</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        SAXReader reader = <span class="keyword">new</span> SAXReader();</span><br><span class="line">        <span class="comment">//生成一个file实例，路径是strFile</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(strFile);</span><br><span class="line">        <span class="comment">//判断文件是否存在，是否为普通文件（不是文件夹）</span></span><br><span class="line">        <span class="keyword">if</span>(!file.exists() || !file.isFile()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//此对象定义了xml文档</span></span><br><span class="line">        Document document = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//读取XML文件，获取document对象</span></span><br><span class="line">            document = reader.read(file);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (DocumentException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;List&lt;String&gt;&gt; listList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != document) &#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             *  Element类，定义XML元素</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             *  对Document对象调用getRootElement()方法可以返回代表根节点的Element对象。</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             *  拥有了一个Element对象后，可以对该对象调用elementIterator()方法获得它的子节点的Element对象们的一个迭代器。</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             *  使用(Element)iterator.next()方法遍历一个iterator并把每个取出的元素转化为Element类型。</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            Element root = document.getRootElement();</span><br><span class="line">            <span class="comment">//存储子节点内容</span></span><br><span class="line">            List&lt;Element&gt; childElements = root.elements();</span><br><span class="line">            <span class="comment">//储存标题节点内容</span></span><br><span class="line">            List&lt;String&gt; titleList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            listList.add(titleList);</span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (Element child : childElements) &#123;</span><br><span class="line">                List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">                List&lt;Element&gt; elementList = child.elements();</span><br><span class="line">                <span class="keyword">for</span> (Element ele : elementList) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">                        titleList.add(ele.getName());</span><br><span class="line">                    &#125;</span><br><span class="line">                    list.add(ele.getText());</span><br><span class="line">                &#125;</span><br><span class="line">                flag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">                listList.add(list);</span><br><span class="line"></span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> listList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StringUtil.isTrimNull</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ai.toptea.ctlm.excelEvent;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 字符串判断与转换</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tuyh3(tuyh3 @ asiainfo.com)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/10/29 11:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">StringUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StringUtil</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否为空</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isNull</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != obj &amp;&amp; !<span class="string">&quot;&quot;</span>.equals(obj)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否为非空</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isNotNull</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != obj &amp;&amp; !<span class="string">&quot;&quot;</span>.equals(obj.toString())) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否为空(忽略前导空白和尾部空白)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isTrimNull</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> isNull(obj.toString().trim());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 判断是否为非空(忽略前导空白和尾部空白)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isTrimNotNull</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != obj) &#123;</span><br><span class="line">            <span class="keyword">return</span> isNotNull(obj.toString().trim());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 得到不为null得字符串</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> obj</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toNotNullString</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span> == obj ? <span class="string">&quot;&quot;</span> : obj.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将 null 转为0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">nullToZero</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> toNotNullString(obj).equals(<span class="string">&quot;&quot;</span>) ? <span class="string">&quot;0&quot;</span> : obj.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将 null 转为空串</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">nullToSpace</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == str) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将 null 转为HTML空格</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">nullToHtmlSpace</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> toNotNullString(obj).trim().equals(<span class="string">&quot;&quot;</span>) ? <span class="string">&quot;&amp;nbsp;&quot;</span> : obj.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//首字母转小写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toLowerCaseFirstOne</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isTrimNull(s)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Character.isLowerCase(s.charAt(<span class="number">0</span>))) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">new</span> StringBuilder()).append(Character.toLowerCase(s.charAt(<span class="number">0</span>))).append(s.substring(<span class="number">1</span>)).toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//首字母转大写</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toUpperCaseFirstOne</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isTrimNull(s)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Character.isUpperCase(s.charAt(<span class="number">0</span>))) &#123;</span><br><span class="line">            <span class="keyword">return</span> s;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">new</span> StringBuilder()).append(Character.toUpperCase(s.charAt(<span class="number">0</span>))).append(s.substring(<span class="number">1</span>)).toString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Excel.createExcelFile</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ai.toptea.ctlm.excelEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFSheet;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.HSSFWorkbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.poifs.filesystem.POIFSFileSystem;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Cell;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Row;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Sheet;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.Workbook;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> excel工具类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tuyh3(tuyh3 @ asiainfo.com)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/10/29 11:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcelUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Logger logger = Logger.getLogger(ExcelUtil.class);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String CLASSNAME = ExcelUtil.class.getName();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String XLS = <span class="string">&quot;xls&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String XLSX = <span class="string">&quot;xlsx&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String POINT_XLS = <span class="string">&quot;.xls&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String POINT_XLSX = <span class="string">&quot;.xlsx&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String POINT = <span class="string">&quot;.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">ExcelUtil</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读取excel</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filePath</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Workbook <span class="title">readExcel</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.readExcel().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;filePath:&quot;</span> + filePath);</span><br><span class="line"><span class="comment">//Workbook编写工作簿时构造的第一个对象，也是用于创建新的工作表等的顶层对象</span></span><br><span class="line">Workbook workbook = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//判断文件目录是否为空或是否存在</span></span><br><span class="line"><span class="keyword">if</span>(StringUtil.isTrimNull(filePath) || !(<span class="keyword">new</span> File(filePath)).exists()) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断文件是否以 .xls 或者 .xlsx结尾</span></span><br><span class="line"><span class="keyword">if</span>(FileUtil.isFileNameEndsWith(filePath, POINT_XLS) || FileUtil.isFileNameEndsWith(filePath, POINT_XLSX)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String extString = filePath.substring(filePath.lastIndexOf(POINT));</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * FIleInputStream：文件字节输入流；</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 与根据File类对象的所代表的实际文件建立链接创建fileInputStream对像</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">InputStream is = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line"><span class="comment">//判断需要创建的是 xls 文件还是 xlsx 文件</span></span><br><span class="line"><span class="keyword">if</span> (POINT_XLS.equals(extString)) &#123;</span><br><span class="line"><span class="comment">//HSSFWorkbook(java.io.InputStream s)：创建使用输入流中的新HSSFWorkbook对象</span></span><br><span class="line">workbook = <span class="keyword">new</span> HSSFWorkbook(is);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (POINT_XLSX.equals(extString)) &#123;</span><br><span class="line">workbook = <span class="keyword">new</span> XSSFWorkbook(is);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.readExcel().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> workbook;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过文件路径，获取xls、xlsx的第一个sheet内容</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filePath</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;String&gt;&gt; getExcelContent(String filePath) &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getExcelContent().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;filePath:&quot;</span> + filePath);</span><br><span class="line"></span><br><span class="line">List&lt;List&lt;String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(StringUtil.isTrimNull(filePath)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Workbook workbook = readExcel(filePath);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">null</span> == workbook) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">list = getExcelContent(workbook);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getExcelContent().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过excel，获取xls、xlsx的第一个sheet内容</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workbook</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;String&gt;&gt; getExcelContent(Workbook workbook) &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getExcelContent().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;workbook:&quot;</span> + workbook);</span><br><span class="line">List&lt;List&lt;String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">null</span> == workbook) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sheet sheet = workbook.getSheetAt(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">null</span> == sheet) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= sheet.getLastRowNum(); i++) &#123;</span><br><span class="line">List&lt;String&gt; list2 = getCellRow(sheet, i);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">null</span> != list2 &amp;&amp; !list2.isEmpty()) &#123;</span><br><span class="line">list.add(list2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getExcelContent().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel的sheet中第iRowIndex索引行第iColumIndex索引列的内容</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iRowIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCellStr</span><span class="params">(Sheet sheet, <span class="keyword">int</span> iRowIndex, <span class="keyword">int</span> iColumIndex)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getCell().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sheet:&quot;</span> + sheet);</span><br><span class="line">logger.debug(<span class="string">&quot;iRowIndex:&quot;</span> + iRowIndex);</span><br><span class="line">logger.debug(<span class="string">&quot;iColumIndex:&quot;</span> + iColumIndex);</span><br><span class="line"></span><br><span class="line">String stringForRow = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">null</span> == sheet) &#123;</span><br><span class="line"><span class="keyword">return</span> stringForRow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; list = getCellRow(sheet, iRowIndex);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">null</span> == list || list.isEmpty()) &#123;</span><br><span class="line"><span class="keyword">return</span> stringForRow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stringForRow = list.get(iColumIndex);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getCell().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> stringForRow;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel的sheet的row中第iColumIndex索引列的内容</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> row</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getStringForRow</span><span class="params">(Row row, <span class="keyword">int</span> iColumIndex)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getStringForRow().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;row:&quot;</span> + row);</span><br><span class="line">logger.debug(<span class="string">&quot;iColumIndex:&quot;</span> + iColumIndex);</span><br><span class="line"></span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (row == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Cell cell = row.getCell((<span class="keyword">short</span>) iColumIndex);</span><br><span class="line"><span class="keyword">if</span> (cell == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = cell.toString();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getStringForRow().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel中第iSheet索引sheet第iRowIndex索引行第iColumIndex索引列的内容</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workbook</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iSheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iRowIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCellStr</span><span class="params">(Workbook workbook, <span class="keyword">int</span> iSheet, <span class="keyword">int</span> iRowIndex, <span class="keyword">int</span> iColumIndex)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(workbook == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> getCellStr(workbook.getSheetAt(iSheet), iRowIndex, iColumIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel的sheet中iRowIndex行数据</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iRowIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getCellRow</span><span class="params">(Sheet sheet, <span class="keyword">int</span> iRowIndex)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getCellRow().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sheet:&quot;</span> + sheet);</span><br><span class="line">logger.debug(<span class="string">&quot;iRowIndex:&quot;</span> + iRowIndex);</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(sheet == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Row row = sheet.getRow(iRowIndex);</span><br><span class="line"><span class="keyword">if</span>(row == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row.getLastCellNum(); i++) &#123;</span><br><span class="line">str = getStringForRow(row, i).trim();</span><br><span class="line"><span class="keyword">if</span>(str != <span class="keyword">null</span>) &#123;</span><br><span class="line">list.add(str);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getCellRow().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel中第iSheet索引sheet中iRowIndex行数据</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workbook</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iSheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iRowIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getCellRow</span><span class="params">(Workbook workbook, <span class="keyword">int</span> iSheet, <span class="keyword">int</span> iRowIndex)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(workbook == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> getCellRow(workbook.getSheetAt(iSheet), iRowIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel的sheet中iColumIndex列数据</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getCellCol</span><span class="params">(Sheet sheet, <span class="keyword">int</span> iColumIndex)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getCellCol().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sheet:&quot;</span> + sheet);</span><br><span class="line">logger.debug(<span class="string">&quot;iColumIndex:&quot;</span> + iColumIndex);</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(sheet == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= sheet.getLastRowNum(); i++) &#123;</span><br><span class="line">str = getCellStr(sheet, i, iColumIndex);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getCellCol().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取excel中第iSheet索引sheet中iColumIndex列数据</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workbook</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iSheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getCellCol</span><span class="params">(Workbook workbook, <span class="keyword">int</span> iSheet, <span class="keyword">int</span> iColumIndex)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(workbook == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> getCellCol(workbook.getSheetAt(iSheet), iColumIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置excel中第iSheet索引sheet中第iRowIndex索引行第iColumIndex索引列的内容为strValue</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iRowIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strValue</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Sheet <span class="title">setSheetCellValue</span><span class="params">(Sheet sheet, <span class="keyword">int</span> iRowIndex, <span class="keyword">int</span> iColumIndex, String strValue)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setSheetCellValue()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sheet: &quot;</span> + sheet);</span><br><span class="line">logger.debug(<span class="string">&quot;iRowIndex: &quot;</span> + iRowIndex);</span><br><span class="line">logger.debug(<span class="string">&quot;iColumIndex: &quot;</span> + iColumIndex);</span><br><span class="line">logger.debug(<span class="string">&quot;strValue: &quot;</span> + strValue);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(sheet == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Row row = sheet.getRow(iRowIndex);</span><br><span class="line">row = setRowColumCellValue(row, iColumIndex, strValue);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setSheetCellValue().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> sheet;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置excel的row行中iColumIndex索引列的值为strValue</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> row</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iColumIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strValue</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Row <span class="title">setRowColumCellValue</span><span class="params">(Row row, <span class="keyword">int</span> iColumIndex, String strValue)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setRowColumCellValue()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;row: &quot;</span> + row);</span><br><span class="line">logger.debug(<span class="string">&quot;iColumIndex: &quot;</span> + iColumIndex);</span><br><span class="line">logger.debug(<span class="string">&quot;strValue: &quot;</span> + strValue);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(row == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> row;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Cell cell = row.getCell((<span class="keyword">short</span>) iColumIndex);</span><br><span class="line"><span class="keyword">if</span> (cell == <span class="keyword">null</span>) &#123;</span><br><span class="line">cell = row.createCell((<span class="keyword">short</span>) iColumIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (cell != <span class="keyword">null</span>) &#123;</span><br><span class="line">cell.setCellValue(strValue);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setRowColumCellValue().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> row;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置excel的row行的内容为list</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> row</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Row <span class="title">setRowCellValue</span><span class="params">(Row row, List&lt;T&gt; list)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setRowCellValue()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;row: &quot;</span> + row);</span><br><span class="line">logger.debug(<span class="string">&quot;list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(row == <span class="keyword">null</span> || list == <span class="keyword">null</span> || list.size() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> row;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">row = setRowColumCellValue(row, i, list.get(i).toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setRowCellValue().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> row;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置excel的sheet中第iRowIndex索引行的内容为list</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iRowIndex</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Sheet <span class="title">setSheetRowCellValue</span><span class="params">(Sheet sheet, <span class="keyword">int</span> iRowIndex, List&lt;T&gt; list)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setSheetRowCellValue()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sheet: &quot;</span> + sheet);</span><br><span class="line">logger.debug(<span class="string">&quot;iRowIndex: &quot;</span> + iRowIndex);</span><br><span class="line">logger.debug(<span class="string">&quot;list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(sheet == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> sheet;</span><br><span class="line">&#125;</span><br><span class="line">Row row = sheet.getRow(iRowIndex);</span><br><span class="line"><span class="keyword">if</span>(row == <span class="keyword">null</span>) &#123;</span><br><span class="line">row = sheet.createRow(iRowIndex);</span><br><span class="line">&#125;</span><br><span class="line">row = setRowCellValue(row, list);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setSheetRowCellValue().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> sheet;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置excel的sheet的内容为list</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Sheet <span class="title">setSheetValue</span><span class="params">(Sheet sheet, List&lt;List&lt;T&gt;&gt; list)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setSheetValue()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sheet: &quot;</span> + sheet);</span><br><span class="line">logger.debug(<span class="string">&quot;list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(sheet == <span class="keyword">null</span> || list == <span class="keyword">null</span> || list.size() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> sheet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">sheet = setSheetRowCellValue(sheet, i, list.get(i));</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setSheetValue().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> sheet;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 设置excel的workbook中iSheet索引的Sheet的内容为list，如果Sheet对象不存在，则设置失败</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> workbook</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> iSheet</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Workbook <span class="title">setWorkbookSheetValue</span><span class="params">(Workbook workbook, <span class="keyword">int</span> iSheet, List&lt;List&lt;String&gt;&gt; list)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setWorkbookSheetValue()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;workbook: &quot;</span> + workbook);</span><br><span class="line">logger.debug(<span class="string">&quot;iSheet: &quot;</span> + iSheet);</span><br><span class="line">logger.debug(<span class="string">&quot;list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(workbook == <span class="keyword">null</span> || list == <span class="keyword">null</span> || list.size() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> workbook;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sheet sheet = workbook.getSheetAt(iSheet);</span><br><span class="line">sheet = setSheetValue(sheet, list);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.setWorkbookSheetValue().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> workbook;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 新建fileName文件的excel，然后把list内容写进去。.xls或者是.xlsx</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Boolean <span class="title">createExcelFile</span><span class="params">(String fileName, List&lt;List&lt;T&gt;&gt; list)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.createExcelFile()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;fileName: &quot;</span> + fileName);</span><br><span class="line">logger.debug(<span class="string">&quot;list: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">FileOutputStream fileOut = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(StringUtil.isTrimNull(fileName)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(fileName);</span><br><span class="line"><span class="keyword">if</span>(file.exists()) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;文件已存在！&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;文件已存在！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Workbook workbook = <span class="keyword">null</span>;</span><br><span class="line">String excelType = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span>(FileUtil.isFileNameEndsWith(fileName, <span class="string">&quot;.xls&quot;</span>)) &#123;</span><br><span class="line">excelType = <span class="string">&quot;xls&quot;</span>;</span><br><span class="line">workbook = <span class="keyword">new</span> HSSFWorkbook();</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(FileUtil.isFileNameEndsWith(fileName, <span class="string">&quot;.xlsx&quot;</span>)) &#123;</span><br><span class="line">excelType = <span class="string">&quot;xlsx&quot;</span>;</span><br><span class="line">workbook = <span class="keyword">new</span> XSSFWorkbook();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fileOut = <span class="keyword">new</span> FileOutputStream(fileName);</span><br><span class="line">workbook.write(fileOut);</span><br><span class="line">fileOut.close();</span><br><span class="line"></span><br><span class="line">FileInputStream is = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;xls&quot;</span>.equals(excelType)) &#123;</span><br><span class="line">POIFSFileSystem fs = <span class="keyword">new</span> POIFSFileSystem(is);</span><br><span class="line">workbook = <span class="keyword">new</span> HSSFWorkbook(fs);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;xlsx&quot;</span>.equals(excelType)) &#123;</span><br><span class="line">workbook = <span class="keyword">new</span> XSSFWorkbook(is);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sheet sheet = workbook.createSheet();</span><br><span class="line">sheet = setSheetValue(sheet , list);</span><br><span class="line"></span><br><span class="line">fileOut = <span class="keyword">new</span> FileOutputStream(fileName);</span><br><span class="line">workbook.write(fileOut);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(fileOut != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">fileOut.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.createExcelFile().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateExcel</span><span class="params">(String strTemplateFile, String strNewFile)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.updateExcel()...&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;strTemplateFile:&quot;</span> + strTemplateFile);</span><br><span class="line">logger.debug(<span class="string">&quot;strNewFile:&quot;</span> + strNewFile);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">FileInputStream is = <span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(strTemplateFile));</span><br><span class="line">POIFSFileSystem fs = <span class="keyword">new</span> POIFSFileSystem(is);</span><br><span class="line"></span><br><span class="line">HSSFWorkbook wwb = <span class="keyword">new</span> HSSFWorkbook(fs);</span><br><span class="line"></span><br><span class="line">HSSFSheet sheet = wwb.getSheetAt(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">setSheetCellValue(sheet, <span class="number">6</span>, <span class="number">3</span>, <span class="string">&quot;333&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 利用已经创建的Excel工作薄创建新的可写入的Excel工作薄</span></span><br><span class="line"><span class="comment">// int rows = ws.getLastRowNum();</span></span><br><span class="line"></span><br><span class="line">FileOutputStream fileOut = <span class="keyword">new</span> FileOutputStream(strNewFile);</span><br><span class="line">wwb.write(fileOut);</span><br><span class="line">fileOut.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.updateExcel().&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//System.out.println(getExcelContent(&quot;D://test.xls&quot;));</span></span><br><span class="line"><span class="comment">//System.out.println(getCellCol(readExcel(&quot;D://test.xls&quot;), 1, 1));</span></span><br><span class="line"><span class="comment">//setCellValue(readExcel(&quot;D://test.xls&quot;).getSheetAt(0), 6, 0, &quot;haha&quot;);</span></span><br><span class="line"><span class="comment">//updateExcel(&quot;D://test2.xls&quot;, &quot;D://test3.xls&quot;);</span></span><br><span class="line"></span><br><span class="line">List&lt;List&lt;String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">List&lt;String&gt; list2 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) &#123;</span><br><span class="line">list2.add(<span class="string">&quot;i = &quot;</span> + i + <span class="string">&quot;j = &quot;</span> + j);</span><br><span class="line">&#125;</span><br><span class="line">list.add(list2);</span><br><span class="line">&#125;</span><br><span class="line">createExcelFile(<span class="string">&quot;e:/test3.xlsx&quot;</span>, list);</span><br><span class="line"></span><br><span class="line">String fileName = <span class="string">&quot;e:/test_test/test3.xls&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(FileUtil.isFileNameEndsWith(fileName, <span class="string">&quot;.xls&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>FileUtil</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ai.toptea.ctlm.excelEvent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> 文件工具类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> liwei</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">FileUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Logger logger = Logger.getLogger(FileUtil.class);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String CLASSNAME = FileUtil.class.getName();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">FileUtil</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件复制到指定文件夹下，字节流方式</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">copyFileStream</span><span class="params">(String beginFileName, String endDir)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyFileStream().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + endDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> b = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">if</span>(StringUtil.isTrimNull(beginFileName) || StringUtil.isTrimNull(endDir)) &#123;</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">BufferedOutputStream bos = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(endDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!beginFile.exists()) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;文件不存在！&quot;</span>);</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;文件不存在！&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!endDir.endsWith(beginFile.separator)) &#123;</span><br><span class="line">endDir += beginFile.separator;</span><br><span class="line">&#125;</span><br><span class="line">String str = endDir + beginFile.getName();</span><br><span class="line">endFile = <span class="keyword">new</span> File(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果文件名以存在，则黏贴的文件前加_</span></span><br><span class="line"><span class="keyword">if</span>(endFile.exists()) &#123;</span><br><span class="line">str = endDir + <span class="string">&quot;_&quot;</span> + beginFile.getName();</span><br><span class="line">endFile = <span class="keyword">new</span> File(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fis = <span class="keyword">new</span> FileInputStream(beginFile);</span><br><span class="line">fos = <span class="keyword">new</span> FileOutputStream(endFile);</span><br><span class="line">bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span>[] buffer=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">8</span>];</span><br><span class="line"><span class="keyword">int</span> readByte = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((readByte = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">bos.write(buffer, <span class="number">0</span>, readByte);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">b = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">closeFile(bis, bos, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyFileStream().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件复制到指定文件夹下，字符流方式</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFilename</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endFiles</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">copyFile</span><span class="params">(String beginFilename, String endFiles)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyFile().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFilename:&quot;</span> + beginFilename);</span><br><span class="line">logger.debug(<span class="string">&quot;endFiles:&quot;</span> + endFiles);</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> b = <span class="keyword">false</span>;</span><br><span class="line">BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">BufferedWriter bw = <span class="keyword">null</span>;</span><br><span class="line">Reader reader = <span class="keyword">null</span>;</span><br><span class="line">Writer writer = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFilename);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(endFiles);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!beginFile.exists()) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;文件不存在！&quot;</span>);</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;文件不存在！&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!endFiles.endsWith(<span class="string">&quot;/&quot;</span>) || !endFiles.endsWith(<span class="string">&quot;\\&quot;</span>)) &#123;</span><br><span class="line">endFiles += <span class="string">&quot;/&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">endFiles += beginFile.getName();</span><br><span class="line">endFile = <span class="keyword">new</span> File(endFiles);</span><br><span class="line"></span><br><span class="line">reader = <span class="keyword">new</span> FileReader(beginFile);</span><br><span class="line">br = <span class="keyword">new</span> BufferedReader(reader);</span><br><span class="line">writer = <span class="keyword">new</span> FileWriter(endFile);</span><br><span class="line">bw = <span class="keyword">new</span> BufferedWriter(writer);</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>[] buffer = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>*<span class="number">8</span>];</span><br><span class="line"><span class="keyword">int</span> readByte = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>((readByte = br.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">bw.write(buffer, <span class="number">0</span>, readByte);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">b = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">closeFile(<span class="keyword">null</span>, <span class="keyword">null</span>, br, bw);</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyFile().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹sourcePath复制到newPath文件夹下，返回复制文件夹情况（第一个成功复制文件个数，第二个失败复制个数，第三个字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sourcePath</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> newPath</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDir</span><span class="params">(String sourcePath, String newPath)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDir().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;sourcePath:&quot;</span> + sourcePath);</span><br><span class="line"></span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(sourcePath == <span class="keyword">null</span> || sourcePath.trim().length() &lt;= <span class="number">0</span> || newPath == <span class="keyword">null</span> || newPath.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">list.add(<span class="string">&quot;参数有为空或空字符串！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(sourcePath);</span><br><span class="line"><span class="keyword">if</span>(!file.isDirectory()) &#123;</span><br><span class="line">list.add(<span class="string">&quot;sourcePath不是文件夹路径！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] filePath = file.list();</span><br><span class="line">newPath = newPath + file.separator + file.getName();</span><br><span class="line">File newFile = <span class="keyword">new</span> File(newPath);</span><br><span class="line"><span class="keyword">if</span> (!newFile.exists()) &#123;</span><br><span class="line">newFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!newFile.isDirectory()) &#123;</span><br><span class="line">list.add(<span class="string">&quot;newPath不是文件夹路径！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line">List list2 = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; filePath.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> ((<span class="keyword">new</span> File(sourcePath + file.separator + filePath[i])).isDirectory()) &#123;</span><br><span class="line">list2 = copyDir(sourcePath  + file.separator  + filePath[i], newPath);</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; list2.size(); j++) &#123;</span><br><span class="line"><span class="keyword">if</span>(list2.get(<span class="number">0</span>) <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(j == <span class="number">0</span>) &#123;</span><br><span class="line">ok = ok + (Integer) list2.get(j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">new</span> File(sourcePath  + file.separator + filePath[i]).isFile()) &#123;</span><br><span class="line"><span class="keyword">boolean</span> b = copyFileStream(sourcePath + file.separator + filePath[i], newPath + file.separator);</span><br><span class="line"><span class="keyword">if</span>(b) &#123;</span><br><span class="line">ok++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String str = <span class="string">&quot;成功复制文件&quot;</span> + ok + <span class="string">&quot;个，失败&quot;</span> + ((Integer)getDirFileNumber(sourcePath).get(<span class="number">1</span>) - ok) + <span class="string">&quot;个！&quot;</span>;</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add((Integer) getDirFileNumber(sourcePath).get(<span class="number">1</span>) - ok);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDir().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 关闭资源</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> is</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> os</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> reader</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> writer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">closeFile</span><span class="params">(InputStream is, OutputStream os, Reader reader, Writer writer)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.closeFile().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;is:&quot;</span> + is);</span><br><span class="line">logger.debug(<span class="string">&quot;os:&quot;</span> + os);</span><br><span class="line">logger.debug(<span class="string">&quot;reader:&quot;</span> + reader);</span><br><span class="line">logger.debug(<span class="string">&quot;writer:&quot;</span> + writer);</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> b = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (os != <span class="keyword">null</span>) &#123;</span><br><span class="line">os.close();</span><br><span class="line">os = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (is != <span class="keyword">null</span>) &#123;</span><br><span class="line">is.close();</span><br><span class="line">is = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (writer != <span class="keyword">null</span>) &#123;</span><br><span class="line">writer.close();</span><br><span class="line">writer = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (reader != <span class="keyword">null</span>) &#123;</span><br><span class="line">reader.close();</span><br><span class="line">reader = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(os == <span class="keyword">null</span> &amp;&amp; is == <span class="keyword">null</span> &amp;&amp; writer == <span class="keyword">null</span> &amp;&amp; reader == <span class="keyword">null</span>) &#123;</span><br><span class="line">b = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.closeFile().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件fileName是否以endsWith结尾的绝对路径，例如.xls、.xlsx</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endsWith</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isFileNameEndsWith</span><span class="params">(String fileName, String endsWith)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.isFileNameEndsWith().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;fileName:&quot;</span> + fileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endsWith:&quot;</span> + endsWith);</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> b = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//如果传入的参数为空或者为空字符串空格，则返回false</span></span><br><span class="line"><span class="keyword">if</span> (fileName == <span class="keyword">null</span> || fileName.trim().length() &lt;= <span class="number">0</span></span><br><span class="line">|| endsWith == <span class="keyword">null</span> || endsWith.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endsWith.contains(<span class="string">&quot;.&quot;</span>)) &#123;</span><br><span class="line">endsWith = <span class="string">&quot;.&quot;</span> + endsWith;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断文件字符串是否为检验的字符串结尾</span></span><br><span class="line"><span class="keyword">if</span> (fileName.endsWith(endsWith)) &#123;</span><br><span class="line"><span class="comment">//选择除去结尾的字符串</span></span><br><span class="line">String[] split = fileName.split(endsWith);</span><br><span class="line"><span class="keyword">if</span> (split.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">String str = split[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//判断是否为绝对路径</span></span><br><span class="line"><span class="keyword">if</span> (str.contains(<span class="string">&quot;:&quot;</span>)) &#123;</span><br><span class="line">String[] split2 = str.split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line"><span class="comment">//判断是否是盘符</span></span><br><span class="line"><span class="keyword">if</span> (split2.length &gt; <span class="number">1</span> &amp;&amp; split2[<span class="number">0</span>].length() == <span class="number">1</span></span><br><span class="line">&amp;&amp; split2[<span class="number">0</span>].equals(str.substring(<span class="number">0</span>, <span class="number">1</span>))) &#123;</span><br><span class="line">String pan = split2[<span class="number">0</span>];</span><br><span class="line">String fileName2 = pan + <span class="string">&quot;test_test&quot;</span>;</span><br><span class="line">logger.debug(<span class="string">&quot;fileName2:&quot;</span> + fileName2);</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(fileName2);</span><br><span class="line"><span class="comment">//测试是否能创建文件夹成功</span></span><br><span class="line"><span class="keyword">while</span> (file.exists()) &#123;</span><br><span class="line">fileName2 = fileName2 + <span class="number">1</span>;</span><br><span class="line">file = <span class="keyword">new</span> File(fileName2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> b2 = file.mkdir();</span><br><span class="line"><span class="keyword">if</span> (b2) &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;测试创建文件夹成功&quot;</span>);</span><br><span class="line">b2 = file.delete();</span><br><span class="line">logger.debug(<span class="string">&quot;是否删除测试文件夹:&quot;</span> + b2);</span><br><span class="line"></span><br><span class="line">String str2 = split2[<span class="number">1</span>];</span><br><span class="line">String[] split3 = str2.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; split3.length; i++) &#123;</span><br><span class="line">String[] split4 = split3[i].split(<span class="string">&quot;\\\\&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; split4.length; j++) &#123;</span><br><span class="line">list.add(split4[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> b3 = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line"><span class="comment">// \ / : * ? # ” &lt; &gt; |</span></span><br><span class="line">String str3 = list.get(i);</span><br><span class="line"><span class="comment">//判断文件夹、文件命名是否符合规范</span></span><br><span class="line"><span class="keyword">if</span> (str3.contains(<span class="string">&quot;\\&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;/&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;:&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;*&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;?&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;#&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;\&quot;&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;&lt;&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;&gt;&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;&gt;&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot;|&quot;</span>)</span><br><span class="line">|| str3.contains(<span class="string">&quot; &quot;</span>)</span><br><span class="line">|| str3.length() &gt;= <span class="number">255</span>) &#123;</span><br><span class="line">b3 = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">b = !b3;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.isFileNameEndsWith().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 统计文件夹里面的文件夹和文件个数，正常情况（第一个放文件夹个数，第二个放文件个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strDirectoryName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">getDirFileNumber</span><span class="params">(String strDirectoryName)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getDirFileNumber().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;strDirectoryName:&quot;</span> + strDirectoryName);</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(strDirectoryName == <span class="keyword">null</span> || strDirectoryName.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">String str = <span class="string">&quot;参数有为空或空字符串！&quot;</span>;</span><br><span class="line">list .add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(strDirectoryName);</span><br><span class="line"><span class="keyword">if</span>(!file.isDirectory()) &#123;</span><br><span class="line">list.add(<span class="string">&quot;strDirectoryName不是文件夹路径！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] filePath = file.list();</span><br><span class="line"></span><br><span class="line">List list2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">int</span> isDir = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> isFile = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; filePath.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> ((<span class="keyword">new</span> File(strDirectoryName + file.separator + filePath[i])).isDirectory()) &#123;</span><br><span class="line">list2 = getDirFileNumber(strDirectoryName  + file.separator  + filePath[i]);</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">isDir++;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; list2.size(); j++) &#123;</span><br><span class="line"><span class="keyword">if</span>(list2.get(<span class="number">0</span>) <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(j == <span class="number">0</span>) &#123;</span><br><span class="line">isDir = isDir + (Integer)list2.get(j);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">1</span>) &#123;</span><br><span class="line">isFile = isFile + (Integer)list2.get(j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">new</span> File(strDirectoryName  + file.separator + filePath[i]).isFile()) &#123;</span><br><span class="line">isFile++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">String str = <span class="string">&quot;文件夹&quot;</span> + isDir + <span class="string">&quot;个，文件&quot;</span> + isFile + <span class="string">&quot;个&quot;</span>;</span><br><span class="line">list.add(isDir);</span><br><span class="line">list.add(isFile);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getDirFileNumber().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取文件大小，以字符串返回，如果不是文件则返回参数</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFileSizeString</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getFileSizeString().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;fileName:&quot;</span> + fileName);</span><br><span class="line"></span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(fileName == <span class="keyword">null</span> || fileName.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> fileName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(fileName);</span><br><span class="line"><span class="keyword">if</span>(!file.isFile()) &#123;</span><br><span class="line"><span class="keyword">return</span> fileName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> length = file.length();</span><br><span class="line"><span class="keyword">if</span>(length &lt; <span class="number">1024L</span>) &#123;</span><br><span class="line">str = str + length + <span class="string">&quot;B&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(length &lt; <span class="number">1024</span>*<span class="number">1024L</span>) &#123;</span><br><span class="line">str = str + (length/<span class="number">1024</span>) + <span class="string">&quot;K&quot;</span> + (length%<span class="number">1024</span>) + <span class="string">&quot;B&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(length &lt; <span class="number">1024</span>*<span class="number">1024</span>*<span class="number">1024L</span>) &#123;</span><br><span class="line">str = str + (length/<span class="number">1024</span>/<span class="number">1024</span>) + <span class="string">&quot;M&quot;</span> + (length/<span class="number">1024</span>%<span class="number">1024</span>) + <span class="string">&quot;K&quot;</span> + (length%<span class="number">1024</span>) + <span class="string">&quot;B&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(length &lt; <span class="number">1024</span>*<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">1024L</span>) &#123;</span><br><span class="line">str = str + (length/<span class="number">1024</span>/<span class="number">1024</span>/<span class="number">1024</span>) + <span class="string">&quot;G&quot;</span> + (length/<span class="number">1024</span>/<span class="number">1024</span>%<span class="number">1024</span>) + <span class="string">&quot;M&quot;</span> + (length/<span class="number">1024</span>/<span class="number">1024</span>%<span class="number">1024</span>) + <span class="string">&quot;K&quot;</span> + (length%<span class="number">1024</span>) + <span class="string">&quot;B&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">str = str + (length/<span class="number">1024</span>/<span class="number">1024</span>/<span class="number">1024</span>/<span class="number">1024</span>) + <span class="string">&quot;T&quot;</span> + (length/<span class="number">1024</span>/<span class="number">1024</span>/<span class="number">1024</span>%<span class="number">1024</span>) + <span class="string">&quot;G&quot;</span> + (length/<span class="number">1024</span>/<span class="number">1024</span>%<span class="number">1024</span>) + <span class="string">&quot;M&quot;</span> + (length/<span class="number">1024</span>%<span class="number">1024</span>) + <span class="string">&quot;K&quot;</span> + (length%<span class="number">1024</span>) + <span class="string">&quot;B&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.getFileSizeString().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把指定类型的文件复制到目标文件夹下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpye</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpye</span><span class="params">(String beginFileName, String endDir, String fileTpye)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpye().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + endDir);</span><br><span class="line">logger.debug(<span class="string">&quot;fileTpye:&quot;</span> + fileTpye);</span><br><span class="line"></span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(beginFileName == <span class="keyword">null</span> || beginFileName.trim().length() &lt;= <span class="number">0</span> || endDir == <span class="keyword">null</span> || endDir.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;为空或空字符串！&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(endDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!beginFile.exists() || !beginFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fileTpye == <span class="keyword">null</span> || fileTpye.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + fileTpye + <span class="string">&quot;为空或空字符串&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists() || !endFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + endDir + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!fileTpye.contains(<span class="string">&quot;.&quot;</span>)) &#123;</span><br><span class="line">fileTpye = <span class="string">&quot;.&quot;</span> + fileTpye;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] files = beginFile.list();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; files.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(files[i].endsWith(fileTpye)) &#123;</span><br><span class="line">number++;</span><br><span class="line"><span class="keyword">boolean</span> b = copyFileStream(beginFileName + beginFile.separator + files[i], endDir + beginFile.separator + beginFile.getName());</span><br><span class="line"><span class="keyword">if</span>(b) &#123;</span><br><span class="line">ok++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(number == <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;文件夹&quot;</span> + beginFileName + <span class="string">&quot;里没有类型为&quot;</span> + fileTpye + <span class="string">&quot;的文件！&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;一共有&quot;</span> + number + <span class="string">&quot;个&quot;</span> + fileTpye + <span class="string">&quot;类型的文件，成功复制&quot;</span> + ok + <span class="string">&quot;个文件，失败&quot;</span> + (number-ok) + <span class="string">&quot;个&quot;</span>;</span><br><span class="line"></span><br><span class="line">list.add(number);</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpye().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把指定多个类型的文件复制到目标文件夹下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpyes</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyes</span><span class="params">(String beginFileName, String endDir, List&lt;String&gt; fileTpyes)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyes().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + endDir);</span><br><span class="line">logger.debug(<span class="string">&quot;fileTpyes:&quot;</span> + fileTpyes);</span><br><span class="line"></span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(beginFileName == <span class="keyword">null</span> || beginFileName.trim().length() &lt;= <span class="number">0</span> || endDir == <span class="keyword">null</span> || endDir.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;为空或空字符串！&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(endDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!beginFile.exists() || !beginFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists() || !endFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + endDir + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List list2 = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileTpyes.size(); i++) &#123;</span><br><span class="line">list2 = copyDirTpye(beginFileName, endDir, fileTpyes.get(i));</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">number = number + (Integer) list2.get(<span class="number">0</span>);</span><br><span class="line">ok = ok + (Integer)list2.get(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(number == <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;文件夹&quot;</span> + beginFileName + <span class="string">&quot;里没有类型为&quot;</span> + fileTpyes + <span class="string">&quot;的文件！&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;一共有&quot;</span> + number + <span class="string">&quot;个&quot;</span> + fileTpyes +<span class="string">&quot;类型的文件，成功复制&quot;</span> + ok + <span class="string">&quot;个文件，失败&quot;</span> + (number-ok) + <span class="string">&quot;个&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125; <span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyes().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把指定多个类型的文件复制到目标文件夹下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpyes</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyes</span><span class="params">(String beginFileName, String endDir, String[] fileTpyes)</span> </span>&#123;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">List&lt;String&gt; listTpyes = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fileTpyes == <span class="keyword">null</span> || fileTpyes.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">list.add(<span class="string">&quot;参数&quot;</span> + fileTpyes + <span class="string">&quot;为空或没有类型！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileTpyes.length; i++) &#123;</span><br><span class="line">listTpyes.add(fileTpyes[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">list = copyDirTpyes(beginFileName, endDir, listTpyes);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹所有【包括子文件夹】指定类型的文件复制到目标文件夹【子文件夹一一对应】下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpye</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyeAll</span><span class="params">(String beginFileName, String endDir, String fileTpye)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyeAll().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + endDir);</span><br><span class="line">logger.debug(<span class="string">&quot;fileTpye:&quot;</span> + fileTpye);</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(beginFileName == <span class="keyword">null</span> || beginFileName.trim().length() &lt;= <span class="number">0</span> || endDir == <span class="keyword">null</span> || endDir.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;为空或空字符串！&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(endDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!beginFile.exists() || !beginFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fileTpye == <span class="keyword">null</span> || fileTpye.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + fileTpye + <span class="string">&quot;为空或空字符串&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists() || !endFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + endDir + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!fileTpye.contains(<span class="string">&quot;.&quot;</span>)) &#123;</span><br><span class="line">fileTpye = <span class="string">&quot;.&quot;</span> + fileTpye;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] files = beginFile.list();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; files.length; i++) &#123;</span><br><span class="line">List list2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">if</span>(files[i].endsWith(fileTpye)) &#123;</span><br><span class="line">number++;</span><br><span class="line"><span class="keyword">boolean</span> b = copyFileStream(beginFileName + beginFile.separator + files[i], endDir + beginFile.separator + beginFile.getName());</span><br><span class="line"><span class="keyword">if</span>(b) &#123;</span><br><span class="line">ok++;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">new</span> File(beginFileName + beginFile.separator + files[i]).isDirectory()) &#123;</span><br><span class="line">list2 = copyDirTpyeAll(beginFileName + beginFile.separator + files[i], endDir + beginFile.separator + files[i], fileTpye);</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">number = number + (Integer)list2.get(<span class="number">0</span>);</span><br><span class="line">ok = ok + (Integer)list2.get(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(number == <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;文件夹&quot;</span> + beginFileName + <span class="string">&quot;里没有类型为&quot;</span> + fileTpye + <span class="string">&quot;的文件！&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;一共有&quot;</span> + number + <span class="string">&quot;个&quot;</span> + fileTpye + <span class="string">&quot;类型的文件，成功复制&quot;</span> + ok + <span class="string">&quot;个文件，失败&quot;</span> + (number-ok) + <span class="string">&quot;个&quot;</span>;</span><br><span class="line"></span><br><span class="line">list.add(number);</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add(str);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyeAll().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹所有【包括子文件夹】指定类型的文件复制到目标文件夹【就在此文件夹】下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpye</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyeAllInDir</span><span class="params">(String beginFileName, String inDir, String fileTpye)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyeAllInDir().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + inDir);</span><br><span class="line">logger.debug(<span class="string">&quot;fileTpye:&quot;</span> + fileTpye);</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(beginFileName == <span class="keyword">null</span> || beginFileName.trim().length() &lt;= <span class="number">0</span> || inDir == <span class="keyword">null</span> || inDir.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;为空或空字符串！&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(inDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!beginFile.exists() || !beginFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fileTpye == <span class="keyword">null</span> || fileTpye.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + fileTpye + <span class="string">&quot;为空或空字符串&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists() || !endFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + inDir + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!fileTpye.contains(<span class="string">&quot;.&quot;</span>)) &#123;</span><br><span class="line">fileTpye = <span class="string">&quot;.&quot;</span> + fileTpye;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] files = beginFile.list();</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; files.length; i++) &#123;</span><br><span class="line">List list2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">if</span>(files[i].endsWith(fileTpye)) &#123;</span><br><span class="line">number++;</span><br><span class="line"><span class="keyword">boolean</span> b = copyFileStream(beginFileName + beginFile.separator + files[i], inDir + beginFile.separator + beginFile.getName());</span><br><span class="line"><span class="keyword">if</span>(b) &#123;</span><br><span class="line">ok++;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">new</span> File(beginFileName + beginFile.separator + files[i]).isDirectory()) &#123;</span><br><span class="line">list2 = copyDirTpyeAll(beginFileName + beginFile.separator + files[i], inDir, fileTpye);</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">number = number + (Integer)list2.get(<span class="number">0</span>);</span><br><span class="line">ok = ok + (Integer)list2.get(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(number == <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;文件夹&quot;</span> + beginFileName + <span class="string">&quot;里没有类型为&quot;</span> + fileTpye + <span class="string">&quot;的文件！&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;一共有&quot;</span> + number + <span class="string">&quot;个&quot;</span> + fileTpye + <span class="string">&quot;类型的文件，成功复制&quot;</span> + ok + <span class="string">&quot;个文件，失败&quot;</span> + (number-ok) + <span class="string">&quot;个&quot;</span>;</span><br><span class="line"></span><br><span class="line">list.add(number);</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add(str);</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyeAllInDir().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹所有【包括子文件夹】多个类型的文件复制到目标文件夹【子文件夹一一对应】下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpyes</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyesAll</span><span class="params">(String beginFileName, String endDir, List&lt;String&gt; fileTpyes)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyesAll().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + endDir);</span><br><span class="line">logger.debug(<span class="string">&quot;fileTpyes:&quot;</span> + fileTpyes);</span><br><span class="line"></span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(beginFileName == <span class="keyword">null</span> || beginFileName.trim().length() &lt;= <span class="number">0</span> || endDir == <span class="keyword">null</span> || endDir.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;为空或空字符串！&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(endDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!beginFile.exists() || !beginFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists() || !endFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + endDir + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List list2 = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileTpyes.size(); i++) &#123;</span><br><span class="line">list2 = copyDirTpyeAll(beginFileName, endDir, fileTpyes.get(i));</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">number = number + (Integer) list2.get(<span class="number">0</span>);</span><br><span class="line">ok = ok + (Integer)list2.get(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(number == <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;文件夹&quot;</span> + beginFileName + <span class="string">&quot;里没有类型为&quot;</span> + fileTpyes + <span class="string">&quot;的文件！&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;一共有&quot;</span> + number + <span class="string">&quot;个&quot;</span> + fileTpyes +<span class="string">&quot;类型的文件，成功复制&quot;</span> + ok + <span class="string">&quot;个文件，失败&quot;</span> + (number-ok) + <span class="string">&quot;个&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125; <span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyesAll().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹所有【包括子文件夹】多个类型的文件复制到目标文件夹【就在此文件夹】下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpyes</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyesAllInDir</span><span class="params">(String beginFileName, String inDir, List&lt;String&gt; fileTpyes)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyesAllInDir().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;beginFileName:&quot;</span> + beginFileName);</span><br><span class="line">logger.debug(<span class="string">&quot;endDir:&quot;</span> + inDir);</span><br><span class="line">logger.debug(<span class="string">&quot;fileTpyes:&quot;</span> + fileTpyes);</span><br><span class="line"></span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(beginFileName == <span class="keyword">null</span> || beginFileName.trim().length() &lt;= <span class="number">0</span> || inDir == <span class="keyword">null</span> || inDir.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;为空或空字符串！&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File beginFile = <span class="keyword">new</span> File(beginFileName);</span><br><span class="line">File endFile = <span class="keyword">new</span> File(inDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!beginFile.exists() || !beginFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + beginFileName + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists()) &#123;</span><br><span class="line">endFile.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!endFile.exists() || !endFile.isDirectory()) &#123;</span><br><span class="line">str = <span class="string">&quot;参数&quot;</span> + inDir + <span class="string">&quot;不是文件夹&quot;</span>;</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List list2 = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ok = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileTpyes.size(); i++) &#123;</span><br><span class="line">list2 = copyDirTpyeAllInDir(beginFileName, inDir, fileTpyes.get(i));</span><br><span class="line"><span class="keyword">if</span>(list2.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">number = number + (Integer) list2.get(<span class="number">0</span>);</span><br><span class="line">ok = ok + (Integer)list2.get(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(number == <span class="number">0</span>) &#123;</span><br><span class="line">str = <span class="string">&quot;文件夹&quot;</span> + beginFileName + <span class="string">&quot;里没有类型为&quot;</span> + fileTpyes + <span class="string">&quot;的文件！&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(str);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;一共有&quot;</span> + number + <span class="string">&quot;个&quot;</span> + fileTpyes +<span class="string">&quot;类型的文件，成功复制&quot;</span> + ok + <span class="string">&quot;个文件，失败&quot;</span> + (number-ok) + <span class="string">&quot;个&quot;</span>;</span><br><span class="line">list.add(number);</span><br><span class="line">list.add(ok);</span><br><span class="line">list.add(str);</span><br><span class="line">&#125; <span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.copyDirTpyesAllInDir().&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹所有【包括子文件夹】多个类型的文件复制到目标文件夹【子文件夹一一对应】下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> endDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpyes</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyesAll</span><span class="params">(String beginFileName, String endDir, String[] fileTpyes)</span> </span>&#123;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">List&lt;String&gt; listTpyes = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fileTpyes == <span class="keyword">null</span> || fileTpyes.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">list.add(<span class="string">&quot;参数&quot;</span> + fileTpyes + <span class="string">&quot;为空或没有类型！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileTpyes.length; i++) &#123;</span><br><span class="line">listTpyes.add(fileTpyes[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">list = copyDirTpyesAll(beginFileName, endDir, listTpyes);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 把文件夹所有【包括子文件夹】多个类型的文件复制到目标文件夹【就在此文件夹】下，正常情况（第一个放文件个数，第二个放复制文件成功个数，第三个放字符串），失败情况（第一个为字符串）</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> beginFileName</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> inDir</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileTpyes</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List <span class="title">copyDirTpyesAllInDir</span><span class="params">(String beginFileName, String inDir, String[] fileTpyes)</span> </span>&#123;</span><br><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">List&lt;String&gt; listTpyes = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(fileTpyes == <span class="keyword">null</span> || fileTpyes.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">list.add(<span class="string">&quot;参数&quot;</span> + fileTpyes + <span class="string">&quot;为空或没有类型！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileTpyes.length; i++) &#123;</span><br><span class="line">listTpyes.add(fileTpyes[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">list = copyDirTpyesAllInDir(beginFileName, inDir, listTpyes);</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 删除文件夹，包含子文件夹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strDir</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">removeDir</span><span class="params">(String strDir)</span> </span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&quot;</span> + CLASSNAME + <span class="string">&quot;.removeDir().....&quot;</span>);</span><br><span class="line">logger.debug(<span class="string">&quot;strDir:&quot;</span> + strDir);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(strDir == <span class="keyword">null</span> || strDir.trim().length() &lt;= <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(strDir);</span><br><span class="line"><span class="keyword">if</span>(!file.exists()) &#123;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!file.isDirectory()) &#123;</span><br><span class="line"><span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String[] fileList = file.list();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileList.length; i++) &#123;</span><br><span class="line">File file2 = <span class="keyword">new</span> File(strDir + file.separator + fileList[i]);</span><br><span class="line"><span class="keyword">if</span>(file2.isDirectory()) &#123;</span><br><span class="line">removeDir(strDir + file.separator + fileList[i]);</span><br><span class="line">file2.delete();</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(file2.isFile()) &#123;</span><br><span class="line">file2.delete();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">file.delete();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;&quot;</span> + CLASSNAME + <span class="string">&quot;.removeDir().&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> 获取文件夹下所有文件的绝对路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getFileNames</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(file == <span class="keyword">null</span> || !file.isDirectory()) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">String[] files = file.list();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; files.length; i++) &#123;</span><br><span class="line">            File file1 = <span class="keyword">new</span> File(file.getPath() + File.separator + files[i]);</span><br><span class="line">            <span class="keyword">if</span>(file1.exists() &amp;&amp; file1.isDirectory()) &#123;</span><br><span class="line">                List&lt;String&gt; fileNames = getFileNames(file1);</span><br><span class="line">                <span class="keyword">if</span>(fileNames != <span class="keyword">null</span> &amp;&amp; fileNames.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    list.addAll(fileNames);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(file1.exists() &amp;&amp; file1.isFile()) &#123;</span><br><span class="line">                list.add(file.getPath() + File.separator + file1.getName());</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> 获取文件夹下所有文件的绝对路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileNames</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getFileNames</span><span class="params">(String fileNames)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fileNames == <span class="keyword">null</span> || fileNames.length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        File file = <span class="keyword">new</span> File(fileNames);</span><br><span class="line">    <span class="keyword">if</span>(!file.exists() || !file.isDirectory()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> getFileNames(file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> 判断两个文件是否相同</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">equalsFile</span><span class="params">(File file1, File file2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(file1 == <span class="keyword">null</span> || file2 == <span class="keyword">null</span> || !file1.isFile() || !file2.isFile()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> length1 = (<span class="keyword">int</span>) file1.length();</span><br><span class="line">        <span class="keyword">int</span> length2 = (<span class="keyword">int</span>) file2.length();</span><br><span class="line">        <span class="keyword">if</span>(length1 != length2) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        FileInputStream fis1 = <span class="keyword">null</span>;</span><br><span class="line">        FileInputStream fis2 = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">boolean</span> b = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis1 = <span class="keyword">new</span> FileInputStream(file1);</span><br><span class="line">            fis2 = <span class="keyword">new</span> FileInputStream(file2);</span><br><span class="line">            <span class="keyword">byte</span>[] data1 = <span class="keyword">new</span> <span class="keyword">byte</span>[length1];</span><br><span class="line">            <span class="keyword">byte</span>[] data2 = <span class="keyword">new</span> <span class="keyword">byte</span>[length2];</span><br><span class="line">            fis1.read(data1);</span><br><span class="line">            fis2.read(data2);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length1; i++) &#123;</span><br><span class="line">                <span class="comment">//只要有一个字节不同，两个文件就不一样</span></span><br><span class="line">                <span class="keyword">if</span> (data1[i] != data2[i]) &#123;</span><br><span class="line">                    b = <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            closeFile(fis1, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">            closeFile(fis2, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">            <span class="keyword">return</span> b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> 判断两个文件是否相同</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">equalsFile</span><span class="params">(String fileName1, String fileName2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(fileName1 == <span class="keyword">null</span> || fileName2 == <span class="keyword">null</span> || fileName1.length() &lt;= <span class="number">0</span> || fileName2.length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> equalsFile(<span class="keyword">new</span> File(fileName1), <span class="keyword">new</span> File(fileName2));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> 把文件夹里相同的文件列出来，相同的放在一个List</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;String&gt;&gt; getRepetitionFiles(File file) &#123;</span><br><span class="line"><span class="keyword">if</span>(file == <span class="keyword">null</span> || !file.isDirectory()) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; fileNames = getFileNames(file);</span><br><span class="line">        <span class="keyword">if</span>(fileNames == <span class="keyword">null</span> || fileNames.size() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        List&lt;List&lt;String&gt;&gt; arrayLists = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> size = fileNames.size();</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; subscript = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(subscript.contains(i)) &#123;<span class="comment">//如果前面有相同了，就跳过此文件</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String fileName = fileNames.get(i);</span><br><span class="line">            list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            list.add(fileName);</span><br><span class="line">            subscript.add(i);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; size; j++) &#123;</span><br><span class="line">                String fileName2 = fileNames.get(j);</span><br><span class="line">                <span class="keyword">if</span>(equalsFile(fileName, fileName2)) &#123;</span><br><span class="line">                    list.add(fileName2);</span><br><span class="line">                    subscript.add(j);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(list.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                arrayLists.add(list);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> arrayLists;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> 把文件夹里相同的文件列出来，相同的放在一个List</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;String&gt;&gt; getRepetitionFiles(String fileName) &#123;</span><br><span class="line">        <span class="keyword">if</span>(fileName == <span class="keyword">null</span> || fileName.length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> getRepetitionFiles(<span class="keyword">new</span> File(fileName));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Boolean <span class="title">checkDir</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">null</span> == filePath || filePath.trim().length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line">    <span class="keyword">if</span>(file.isFile()) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">file.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除文件夹下指定的类型文件</span></span><br><span class="line"><span class="comment">//删除文件夹下指定的多个类型文件</span></span><br><span class="line"><span class="comment">//删除文件夹下指定的类型文件，包含文件夹下的文件夹</span></span><br><span class="line"><span class="comment">//删除文件夹下指定的多个类型文件，包含文件夹下的文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//boolean b = copyFile(&quot;E:/test/test.txt&quot;, &quot;d:/test\\&quot;);</span></span><br><span class="line"><span class="comment">//boolean b = copyFileStream(&quot;E:/test/cn_windows_7_professional_x64_dvd_x15-65791.iso&quot;, &quot;d:/test\\&quot;);</span></span><br><span class="line"><span class="comment">//System.out.println(b);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*List list = copyDir(&quot;E:/test&quot;, &quot;d:/test&quot;);</span></span><br><span class="line"><span class="comment">//List list = getDirFileNumber(&quot;E:/test&quot;);</span></span><br><span class="line"><span class="comment">for(int i = 0; i &lt; list.size(); i++) &#123;</span></span><br><span class="line"><span class="comment">System.out.println(list.get(i));</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*String fileSize = getFileSizeString(&quot;E:\\个人文件\\softwart\\system\\windows\\cn_windows_7_professional_x64_dvd_x15-65791.iso&quot;);</span></span><br><span class="line"><span class="comment">System.out.println(fileSize);*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//copyDirTpye(&quot;E:/test&quot;, &quot;d:/test&quot;, &quot;txt&quot;);</span></span><br><span class="line"><span class="comment">//copyDirTpyeAll(&quot;E:/test&quot;, &quot;d:/test&quot;, &quot;txt&quot;);</span></span><br><span class="line">String[] str = &#123;<span class="string">&quot;txt&quot;</span>,<span class="string">&quot;xls&quot;</span>&#125;;</span><br><span class="line"><span class="comment">//copyDirTpyesAll(&quot;E:/test&quot;, &quot;d:/test&quot;, str);</span></span><br><span class="line">copyDirTpyesAllInDir(<span class="string">&quot;E:/test&quot;</span>, <span class="string">&quot;d:/test&quot;</span>, str);</span><br><span class="line"><span class="comment">//removeDir(&quot;D:\\test\\test&quot;);</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>VMware Workstation Pro 16永久激活码激活秘钥</title>
    <link href="http://example.com/2020/11/09/VMware%20Workstation%20Pro%2016%E6%B0%B8%E4%B9%85%E6%BF%80%E6%B4%BB%E7%A0%81%E6%BF%80%E6%B4%BB%E7%A7%98%E9%92%A5/"/>
    <id>http://example.com/2020/11/09/VMware%20Workstation%20Pro%2016%E6%B0%B8%E4%B9%85%E6%BF%80%E6%B4%BB%E7%A0%81%E6%BF%80%E6%B4%BB%E7%A7%98%E9%92%A5/</id>
    <published>2020-11-09T01:16:29.415Z</published>
    <updated>2020-11-09T01:58:15.275Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="VMware-Workstation-Pro-16永久激活码激活秘钥"><a href="#VMware-Workstation-Pro-16永久激活码激活秘钥" class="headerlink" title="VMware Workstation Pro 16永久激活码激活秘钥"></a>VMware Workstation Pro 16永久激活码激活秘钥</h2><p>ZF3R0-FHED2-M80TY-8QYGC-NPKYF</p><p>YF390-0HF8P-M81RQ-2DXQE-M2UT6 </p><p>ZF71R-DMX85-08DQY-8YMNC-PPHV8 </p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>tortoiseGit 教程（常用图文教程）</title>
    <link href="http://example.com/2020/11/09/tortoiseGit%20%E6%95%99%E7%A8%8B%EF%BC%88%E5%B8%B8%E7%94%A8%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B%EF%BC%89/"/>
    <id>http://example.com/2020/11/09/tortoiseGit%20%E6%95%99%E7%A8%8B%EF%BC%88%E5%B8%B8%E7%94%A8%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B%EF%BC%89/</id>
    <published>2020-11-09T01:16:29.409Z</published>
    <updated>2020-11-09T01:57:56.020Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="tortoiseGit-教程（常用图文教程）"><a href="#tortoiseGit-教程（常用图文教程）" class="headerlink" title="tortoiseGit 教程（常用图文教程）"></a>tortoiseGit 教程（常用图文教程）</h1><blockquote><p>作者：涂祎豪</p></blockquote><p>gitTorise是git的比较好用的一个图形化工具，本文目的在于对tortoiseGit常见使用进行一个总结。</p><h2 id="1、建立仓库"><a href="#1、建立仓库" class="headerlink" title="1、建立仓库"></a>1、建立仓库</h2><p>本教程所用的tortoiseGit 的版本是    ，git的版本是     ；</p><ol><li>安装，语言包</li><li></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>SSI</title>
    <link href="http://example.com/2020/11/09/SSl%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2020/11/09/SSl%E5%AD%A6%E4%B9%A0/</id>
    <published>2020-11-09T01:16:29.403Z</published>
    <updated>2020-11-09T01:57:32.830Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="SSl"><a href="#SSl" class="headerlink" title="SSl"></a>SSl</h1><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105112855617.png" alt="image-20201105112855617"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105113039583.png" alt="image-20201105113039583"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105113348533.png" alt="image-20201105113348533"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105113523190.png" alt="image-20201105113523190"></p><p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20201105113625024.png" alt="image-20201105113625024"></p><p>记录值：202011040000000aoaikpwmktx4adz111f3nzksyi228o1uok23dvs8r3oads7er</p><p><img src="https://stepimagewm.how2j.cn/9941.png" alt="等待审核"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105113930656.png" alt="image-20201105113930656"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Proxifier 教程</title>
    <link href="http://example.com/2020/11/09/proxifier%E6%95%99%E7%A8%8B/"/>
    <id>http://example.com/2020/11/09/proxifier%E6%95%99%E7%A8%8B/</id>
    <published>2020-11-09T01:16:29.397Z</published>
    <updated>2020-11-09T01:57:04.254Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Proxifier-教程"><a href="#Proxifier-教程" class="headerlink" title="Proxifier 教程"></a>Proxifier 教程</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>大家在使用一些网络不稳定的服务时，经常会遇到一个很头疼的问题，就是慢，比如 HomeBrew 的更新，GitHub 的 <code>push</code> 与 <code>clone</code>， 即便使用了代理，也因为终端无法走代理流量导致速度没有任何提升；本文将介绍一款超好用的代理软件 Proxifier，并希望这篇 Proxifier 使用教程能够帮助你解决这些让人抓狂的连接问题！</p><h3 id="Proxifier介绍"><a href="#Proxifier介绍" class="headerlink" title="Proxifier介绍"></a>Proxifier介绍</h3><p>Proxifier 是专门用来处理不支持代理的程序通过 SOCKS 或者 HTTPS 代理进行网络访问的一款应用，个人觉得这也是 Mac/Windows 上最好代理软件之一。</p><p>Proxifier 最大的特点就是强大并且简单，只需要很简单的设置，就可以实现整个系统的联网都通过代理服务接收和发送，而且还可以自定义规则，指定哪些应用通过代理，当然它还可以增加你访问网路的 “安全性” ，所以我强烈推荐经常使用网络不稳定应用的朋友安装 Proxifier 。</p><h4 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h4><p>官网下载：<a href="https://www.proxifier.com/">Proxifier官网</a></p><p>百度云：<a href="https://pan.baidu.com/s/13Ok2Sxg8rZ5lCVnTR51iFA">Proxifier3.31</a>     提取码：2333 </p><p>Mac版：<a href="https://pan.baidu.com/share/init?surl=PaAZcv16bnEDsYisiOFqKQ">mac版下载</a>     提取码：tux5</p><h3 id="Proxifier设置"><a href="#Proxifier设置" class="headerlink" title="Proxifier设置"></a>Proxifier设置</h3><p>配置 Proxifier 的前提是你拥有必要的代理服务存在，Proxifier 仅仅是一款软件，而不是代理服务，本文不会涉及任何关于代理服务的购买或搭建，且教程也仅仅是为了日常学习能够访问一些网络不稳定的应用，而不会访问任何法律法规不允许的其它应用服务。</p><p>初次安装好 Proxifier 之后，打开软件，界面如下，点击右上角的 <code>Proxies</code> 配置代理服务器。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-16-55.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 1"></p><p>接着点击配置页面的 <code>add</code> 按钮增加代理服务器。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-22-50.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 2"></p><p>这里我选择的 <code>SOCKS5</code>，你可以在你的 SS 客户端 -&gt; 高级设置中找到具体的 IP 地址和端口号，然后点击左下角的 <code>OK</code>。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-28-15.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 3"></p><p>接着会弹出一个窗口，提示你是否要把这个代理服务器作为默认代理，点击 <code>YES</code>，然后还会有一个弹窗，提示你 ss-local 貌似进入死循环了，要不要使用建议设置自动修改，选择 <code>OK</code></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-35-23.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 4"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-35-53.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 5"></p><p>没什么问题的话，Proxifier 就可以正常使用了，它会将本机所有的联网全部通过配置的代理服务器发送和接收，此外你还会在程序主界面看到不少的日志信息，这里简单的图示解释一下。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-50-13.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 6"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-52-28.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 7"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-11-30_23-53-51.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 8"></p><p>这里输出的这些日志还是很有用的，你可以监控本机所有的网络连接，看看应用都在做些什么。</p><h3 id="自定义规则"><a href="#自定义规则" class="headerlink" title="自定义规则"></a>自定义规则</h3><p>Proxifier 还可以自定义规则，比如个性化配置某些需要走代理的应用，而其它应用直连，当然，如果你要这样设置的话，首先你需要修改一下默认规则，点击右上角的 <code>Rules</code> ，进入如下配置页面，并将 <code>Default</code> 规则修改为 <code>Direct</code>。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-12-01_00-34-47-1024x554.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 9"></p><p>然后点击左下角的 <code>Add</code> 添加新的规则，规则添加很简单，点击 <code>Applications</code> 下方的加号，添加应用，然后 <code>Action</code> 选项选择代理服务器，点击 <code>OK</code> 就可以了。</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/Snipaste_2019-12-01_00-41-05-1001x1024.jpg" alt="Proxifier 使用教程 —— Mac/Windows 下最好的代理软件 10"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Nginx 学习</title>
    <link href="http://example.com/2020/11/09/Nginx%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2020/11/09/Nginx%E5%AD%A6%E4%B9%A0/</id>
    <published>2020-11-09T01:16:29.391Z</published>
    <updated>2020-11-09T01:56:38.560Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Nginx-学习"><a href="#Nginx-学习" class="headerlink" title="Nginx 学习"></a>Nginx 学习</h1><blockquote><p>参考：<a href="https://how2j.cn/k/nginx/nginx-tutorial/1565.html">HOW2J.CN教程</a></p></blockquote><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105114539248.png" alt="image-20201105114539248"></p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/image-20201105115013950.png" alt="image-20201105115013950"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Maven全局配置文件settings.xml详解</title>
    <link href="http://example.com/2020/11/09/Maven%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6setting.xml%E8%AF%A6%E8%A7%A3/"/>
    <id>http://example.com/2020/11/09/Maven%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6setting.xml%E8%AF%A6%E8%A7%A3/</id>
    <published>2020-11-09T01:16:29.385Z</published>
    <updated>2020-11-09T01:56:13.091Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Maven全局配置文件settings-xml详解"><a href="#Maven全局配置文件settings-xml详解" class="headerlink" title="Maven全局配置文件settings.xml详解"></a>Maven全局配置文件settings.xml详解</h2><h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><h4 id="settings-xml的作用"><a href="#settings-xml的作用" class="headerlink" title="settings.xml的作用"></a>settings.xml的作用</h4><p>​    它是用来设置Maven参数的配置文件。并且，settings.xml是Maven的全局配置文件。settings.xml中包含类似本地仓库、远程仓库和联网使用的代理信息等配置。</p><h4 id="settings-xml文件位置"><a href="#settings-xml文件位置" class="headerlink" title="settings.xml文件位置"></a>settings.xml文件位置</h4><p>​    settings.xml文件一般存在于Maven的安装目录的conf子目录下面，或者是用户目录的.m2子目录下面。</p><h4 id="配置的优先级"><a href="#配置的优先级" class="headerlink" title="配置的优先级"></a>配置的优先级</h4><p>​    其实相对于多用户的PC机而言，在Maven安装目录的conf子目录下面的settings.xml才是真正的全局的配置。而用户目录的.m2子目录下面的settings.xml的配置只是针对当前用户的。当这两个文件同时存在的时候，那么对于相同的配置信息用户目录下面的settings.xml中定义的会覆盖Maven安装目录下面的settings.xml中的定义。用户目录下的settings.xml文件一般是不存在的，但是Maven允许我们在这里定义我们自己的settings.xml，如果需要在这里定义我们自己的settings.xml的时候就可以把Maven安装目录下面的settings.xml文件拷贝到用户目录的.m2目录下，然后改成自己想要的样子。</p><h3 id="settings-xml元素详解"><a href="#settings-xml元素详解" class="headerlink" title="settings.xml元素详解"></a>settings.xml元素详解</h3><h4 id="顶级元素概览"><a href="#顶级元素概览" class="headerlink" title="顶级元素概览"></a>顶级元素概览</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                          https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">localRepository</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">interactiveMode</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">usePluginRegistry</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">offline</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginGroups</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">proxies</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfiles</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="LocalRepository"><a href="#LocalRepository" class="headerlink" title="LocalRepository"></a>LocalRepository</h5><p><strong>作用</strong>：该值表示构建系统本地仓库的路径。</p><p>如果maven需要和用户交互以获得输入，则设置成true，反之则应为false。默认为true。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">interactiveMode</span>&gt;</span>true<span class="tag">&lt;/<span class="name">interactiveMode</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="InteractiveMode"><a href="#InteractiveMode" class="headerlink" title="InteractiveMode"></a>InteractiveMode</h5><p><strong>作用</strong>：表示maven是否需要和用户交互以获得输入。</p><p>如果maven需要和用户交互以获得输入，则设置成true，反之则应为false。默认为true。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">interactiveMode</span>&gt;</span>true<span class="tag">&lt;/<span class="name">interactiveMode</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="UsePluginRegistry"><a href="#UsePluginRegistry" class="headerlink" title="UsePluginRegistry"></a>UsePluginRegistry</h5><p><strong>作用</strong>：maven是否需要使用plugin-registry.xml文件来管理插件版本。</p><p>如果需要让maven使用文件~/.m2/plugin-registry.xml来管理插件版本，则设为true。默认为false。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">usePluginRegistry</span>&gt;</span>false<span class="tag">&lt;/<span class="name">usePluginRegistry</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Offline"><a href="#Offline" class="headerlink" title="Offline"></a>Offline</h5><p><strong>作用：</strong>这个属性表示Maven进行项目编译和部署等操作是否允许Maven进行联网来下载所需要的信息。</p><p>如果构建系统需要在离线模式运行，则为true，默认为false。</p><p>当由于网络设置原因或者安全因素，构建服务器不能连接远程仓库的时候，该配置就十分有用。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">offline</span>&gt;</span>false<span class="tag">&lt;/<span class="name">offline</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="PluginGroups"><a href="#PluginGroups" class="headerlink" title="PluginGroups"></a>PluginGroups</h5><p><strong>作用：</strong>在<strong>pluginGroups</strong>元素下面可以定义一些列的<strong>pluginGroup</strong>元素。表示当通过<strong>plugin</strong>的前缀来解析plugin的时候到哪里寻找。<strong>pluginGroup</strong>元素指定的是<strong>plugin的groupId</strong>。默认情况下，Maven会自动把<strong>org.apache.maven.plugins</strong> 和<strong>org.codehaus.mojo</strong> 添加到<strong>pluginGroups</strong>下。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- plugin的组织Id（groupId）--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginGroup</span>&gt;</span>org.codehaus.mojo<span class="tag">&lt;/<span class="name">pluginGroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginGroups</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Servers-这里id有些不懂"><a href="#Servers-这里id有些不懂" class="headerlink" title="Servers(这里id有些不懂)"></a>Servers(这里id有些不懂)</h5><p><strong>作用：</strong>一般，仓库的下载和部署实在pom.xml文件中的<strong>repositories</strong> 和<strong>distributionManagement</strong> 元素中定义的。然而，一般类似用户名、密码（有些仓库访问时需要安全认证的）等信息不应该在<strong>pom.xml</strong>文件中配置，这些信息可以哦配置在<strong>settings.xml</strong>中。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置服务端的一些设置。一些设置如安全证书不应该和pom.xml一起分发。这种类型的信息应该存在于构建服务器上的settings.xml文件中。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--服务器元素包含配置服务器时需要的信息 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--这是server的id（注意不是用户登陆的id），该id与distributionManagement中repository元素的id相匹配。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>server001<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--鉴权用户名。鉴权用户名和鉴权密码表示服务器认证所需要的登录名和密码。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>my_login<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--鉴权密码 。鉴权用户名和鉴权密码表示服务器认证所需要的登录名和密码。密码加密功能已被添加到2.1.0 +。详情请访问密码加密页面 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">password</span>&gt;</span>my_password<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--鉴权时使用的私钥位置。和前两个元素类似，私钥位置和私钥密码指定了一个私钥的路径（默认是$&#123;user.home&#125;/.ssh/id_dsa）以及如果需要的话，一个密语。将来passphrase和password元素可能会被提取到外部，但目前它们必须在settings.xml文件以纯文本的形式声明。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">privateKey</span>&gt;</span>$&#123;usr.home&#125;/.ssh/id_dsa<span class="tag">&lt;/<span class="name">privateKey</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--鉴权时使用的私钥密码。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">passphrase</span>&gt;</span>some_passphrase<span class="tag">&lt;/<span class="name">passphrase</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--文件被创建时的权限。如果在部署的时候会创建一个仓库文件或者目录，这时候就可以使用权限（permission）。这两个元素合法的值是一个三位数字，其对应了unix文件系统的权限，如664，或者775。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filePermissions</span>&gt;</span>664<span class="tag">&lt;/<span class="name">filePermissions</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--目录被创建时的权限。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">directoryPermissions</span>&gt;</span>775<span class="tag">&lt;/<span class="name">directoryPermissions</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Mirrors"><a href="#Mirrors" class="headerlink" title="Mirrors"></a>Mirrors</h5><p><strong>作用：</strong></p><p>用于定义一系列的远程仓库的镜像。我们可以在pom中定义一个下载工件的时候所使用的远程仓库。但是有时候这个远程仓库会比较忙，所以这个时候人们就像着给它创建镜像以缓解远程仓库的压力，也就是说会吧对远程仓库的请求转换到对其镜像地址的请求。每个远程仓库都会有一个id，这样我们就可以创建自己的mirror来关联到该仓库，那么以后需要从远程仓库下载工件的时候Maven就可以从我们定义好的mirror站点来下载，这可以很好的来缓解我们远程仓库的压力。在我们定义的mirror中每个远程仓库都只能有一个mirror与它关联，也就是说你不能同时配置多个mirror的mirrorOf指向同一个repositoryId。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 给定仓库的下载镜像。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 该镜像的唯一标识符。id用来区分不同的mirror元素。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>mirrorId<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 镜像名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>PlanetMirror Australia<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 该镜像的URL。构建系统会优先考虑使用该URL，而非使用默认的服务器URL。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://downloads.planetmirror.com/pub/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 被镜像的服务器的id。例如，如果我们要设置了一个Maven中央仓库（http://repo.maven.apache.org/maven2/）的镜像，就需要将该元素设置成central。这必须和中央仓库的id central完全一致。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>repositoryId<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Proxies"><a href="#Proxies" class="headerlink" title="Proxies"></a>Proxies</h5><p><strong>作用：</strong>用来配置不同的代理。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!--代理元素包含配置代理时需要的信息 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--代理的唯一定义符，用来区分不同的代理元素。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>myproxy<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--该代理是否是激活的那个。true则激活代理。当我们声明了一组代理，而某个时候只需要激活一个代理的时候，该元素就可以派上用处。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">active</span>&gt;</span>true<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--代理的协议。 协议://主机名:端口，分隔成离散的元素以方便配置。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>http<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--代理的主机名。协议://主机名:端口，分隔成离散的元素以方便配置。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">host</span>&gt;</span>proxy.somewhere.com<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--代理的端口。协议://主机名:端口，分隔成离散的元素以方便配置。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--代理的用户名，用户名和密码表示代理服务器认证的登录名和密码。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">username</span>&gt;</span>proxyuser<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--代理的密码，用户名和密码表示代理服务器认证的登录名和密码。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">password</span>&gt;</span>somepassword<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--不该被代理的主机名列表。该列表的分隔符由代理服务器指定；例子中使用了竖线分隔符，使用逗号分隔也很常见。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nonProxyHosts</span>&gt;</span>*.google.com|ibiblio.org<span class="tag">&lt;/<span class="name">nonProxyHosts</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">proxies</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Profiles"><a href="#Profiles" class="headerlink" title="Profiles"></a>Profiles</h5><p><strong>作用：</strong>根据环境参数来调整构建配置的列表。</p><p>setting.xml中的profile元素是pom.xml中元素的裁剪版本。它包含id、activation、repositories、pluginRepositories和properties元素。这里的profile元素只包含这五个子元素是因为这里只关心构建系统这个整体（这正是setting.xml中带有相同id的profile。当所有的约束条件都满足的时候就会激活这个profile。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">　　<span class="comment">&lt;!-- profile的唯一标识 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>test<span class="tag">&lt;/<span class="name">id</span>&gt;</span>     </span><br><span class="line">        <span class="comment">&lt;!-- 自动触发profile的条件逻辑 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>false<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>Windows 7<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">family</span>&gt;</span>Windows<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">arch</span>&gt;</span>x86<span class="tag">&lt;/<span class="name">arch</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.2600<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>mavenVersion<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>2.0.3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exists</span>&gt;</span>$&#123;basedir&#125;/file2.properties<span class="tag">&lt;/<span class="name">exists</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">missing</span>&gt;</span>$&#123;basedir&#125;/file1.properties<span class="tag">&lt;/<span class="name">missing</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 扩展属性列表 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 远程仓库列表 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repositories</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 插件仓库列表 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginRepositories</span> /&gt;</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="Activation"><a href="#Activation" class="headerlink" title="Activation"></a>Activation</h5><p><strong>作用：</strong>自动触发profile的条件逻辑。这是profile中最重要的元素。跟pom.xml中的profile一样，setting.xml中的profile也可以在特定环境下改变一些值，而这些环境通过activation元素来指定的。activation元素并不是激活profile的唯一方式。setting.xml文件中的activeProfile元素可以包含profile的id。profile也可以通过在命令行，使用-P标记和逗号风格的列表来显示激活（如 -P test）。</p><p><strong>jdk：</strong>表示当前jdk版本满足条件的时候激活，这里是1.8。这里的版本还可以用一个范围来表示，如</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">jdk</span>&gt;</span>[1.6,1.8]<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span>表示1.6和1.7满足；</span><br><span class="line"><span class="tag">&lt;<span class="name">jdk</span>&gt;</span>[1.4,1.7]<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span> 表示1.4、1.5、1.6和1.7满足；</span><br></pre></td></tr></table></figure><p><strong>os：</strong>表示当操作系统满足条件的时候激活。</p><p><strong>property：</strong>property是键值对的形式，表示当前Maven检测到了这样一个键值对的时候就激活该profile。</p><p><strong>（1）下面的示例表示当存在属性激活该profile</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>（2）下面的示例表示当属性hello的值为world的时候激活该profile</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>world<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这个时候如果要激活该profile的话，可以在掉用Maven指令的时候加上参数hello并指定其值为world，如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn compile –Dhello=world</span><br></pre></td></tr></table></figure><p><strong>file：</strong>表示当文件存在或不存在的时候激活，exists表示存在，missing表示不存在。如下面例子表示当前文件hello/word不存在的时候激活该profile。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">missing</span>&gt;</span>hello/world<span class="tag">&lt;/<span class="name">missing</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>activeByDefault：</strong>当其值为true的时候表示如果没有其他profile处于激活状态的时候，该profile将自动被激活。</p><p><strong>properties：</strong>用于定义熟悉键值对的。当该profile是激活状态的时候，properties下面指定的属性都可以在pom.xml中使用。对应profile的扩展属性列表。</p><p>Maven属性和ant中的属性一样，可以用来存放一些值。这些值可以在pom.xml中任何地方使用标记${X}来使用，这里X是指属性的名称。属性有五种不同的形式，并且都能在setting.xm文件中访问。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  1. env.X: 在一个变量前加上&quot;env.&quot;的前缀，会返回一个shell环境变量。例如,&quot;env.PATH&quot;指代了$path环境变量（在Windows上是%PATH%）。</span></span><br><span class="line"><span class="comment">  2. project.x：指代了POM中对应的元素值。例如: &lt;project&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/project&gt;通过$&#123;project.version&#125;获得version的值。</span></span><br><span class="line"><span class="comment">  3. settings.x: 指代了settings.xml中对应元素的值。例如：&lt;settings&gt;&lt;offline&gt;false&lt;/offline&gt;&lt;/settings&gt;通过 $&#123;settings.offline&#125;获得offline的值。</span></span><br><span class="line"><span class="comment">  4. Java System Properties: 所有可通过java.lang.System.getProperties()访问的属性都能在POM中使用该形式访问，例如 $&#123;java.home&#125;。</span></span><br><span class="line"><span class="comment">  5. x: 在&lt;properties/&gt;元素中，或者外部文件中设置，以$&#123;someVar&#125;的形式使用。</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user.install</span>&gt;</span>$&#123;user.home&#125;/our-project<span class="tag">&lt;/<span class="name">user.install</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注：如果该profile被激活，则可以在pom.xml中使用${user.install}。</p><p><strong>repositories：</strong>用于定义远程仓库的，当该profile是激活状态的时候，这里面定义的远程仓库将作为当前的pom的远程仓库。它是Maven用来填充构建系统本地仓库锁使用的一组远程仓库。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--包含需要连接到远程仓库的信息 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--远程仓库唯一标识 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>codehausSnapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--远程仓库名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Codehaus Snapshots<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--如何处理远程仓库里发布版本的下载 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--true或者false表示该仓库是否为下载某种类型构件（发布版，快照版）开启。 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--该元素指定更新发生的频率。Maven会比较本地POM和远程POM的时间戳。这里的选项是：always（一直），daily（默认，每日），interval：X（这里X是以分钟为单位的时间间隔），或者never（从不）。 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>always<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--当Maven验证构件校验文件失败时该怎么做-ignore（忽略），fail（失败），或者warn（警告）。 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checksumPolicy</span>&gt;</span>warn<span class="tag">&lt;/<span class="name">checksumPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--如何处理远程仓库里快照版本的下载。有了releases和snapshots这两组配置，POM就可以在每个单独的仓库中，为每种类型的构件采取不同的策略。例如，可能有人会决定只为开发目的开启对快照版本下载的支持。参见repositories/repository/releases元素 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">enabled</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">updatePolicy</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checksumPolicy</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--远程仓库URL，按protocol://hostname/path形式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://snapshots.maven.codehaus.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--用于定位和排序构件的仓库布局类型-可以是default（默认）或者legacy（遗留）。Maven 2为其仓库提供了一个默认的布局；然而，Maven 1.x有一种不同的布局。我们可以使用该元素指定布局是default（默认）还是legacy（遗留）。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br></pre></td></tr></table></figure><p>（1）release、snapshots：这是对于工件类型的限制。</p><p>（2）enabled：表示这个仓库是否允许这种类型的工件。</p><p>（3）updatePolicy：表示多久尝试更新一次。可选值有always、daliy、interval:minutes（表示没多久更新一次）和never。</p><p>（4）checksumPolicy：当Maven在部署项目到仓库的时候会连同校验文件一起提交，checksumPolicy表示当这个校验文件缺失或不正确的时候该如何处理，可选项有ignore、fail和warn。</p><p><strong>pluginRepositories：</strong>在Maven中有两种类型的仓库，一种是存储工件的仓库，另一种就是存储plugin插件的仓库。pluginRepositories的定义和repositories的定义类似，它表示Maven在那些地方可以找到所需要的插件。和repository相似，只是repository是管理jar包依赖的仓库，pluginRepository则是管理插件的仓库。Maven插件是一种他叔类型的构件。由于这个原因，插件仓库独立于其它仓库。pluginRepositories元素的结构和repositories元素的结构类似。每个pluginRepository元素指定一个Maven可以用来寻找新插件的远程地址。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 包含需要连接到远程插件仓库的信息.参见profiles/profile/repositories/repository元素的说明 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">enabled</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">updatePolicy</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checksumPolicy</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">enabled</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">updatePolicy</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checksumPolicy</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--profile默认是否激活的标识 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>false<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--当匹配的jdk被检测到，profile被激活。例如，1.4激活JDK1.4，1.4.0_2，而!1.4激活所有版本不是以1.4开头的JDK。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.5<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--当匹配的操作系统属性被检测到，profile被激活。os元素可以定义一些操作系统相关的属性。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--激活profile的操作系统的名字 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Windows XP<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--激活profile的操作系统所属家族(如 &#x27;windows&#x27;) --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">family</span>&gt;</span>Windows<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--激活profile的操作系统体系结构 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">arch</span>&gt;</span>x86<span class="tag">&lt;/<span class="name">arch</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--激活profile的操作系统版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.2600<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--如果Maven检测到某一个属性（其值可以在POM中通过$&#123;name&#125;引用），其拥有对应的name = 值，Profile就会被激活。如果值字段是空的，那么存在属性名称字段就会激活profile，否则按区分大小写方式匹配属性值字段 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--激活profile的属性的名称 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mavenVersion<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--激活profile的属性的值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>2.0.3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--提供一个文件名，通过检测该文件的存在或不存在来激活profile。missing检查文件是否存在，如果不存在则激活profile。另一方面，exists则会检查文件是否存在，如果存在则激活profile。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--如果指定的文件存在，则激活profile。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exists</span>&gt;</span>$&#123;basedir&#125;/file2.properties<span class="tag">&lt;/<span class="name">exists</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--如果指定的文件不存在，则激活profile。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">missing</span>&gt;</span>$&#123;basedir&#125;/file1.properties<span class="tag">&lt;/<span class="name">missing</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="ActiveProfiles"><a href="#ActiveProfiles" class="headerlink" title="ActiveProfiles"></a>ActiveProfiles</h5><p><strong>作用：</strong>手动激活profiles的列表，按照profile被应用的顺序定义activeProfile。</p><p>该元素包含了一组activeProfile元素，每个activeProfile都包含一个profile id。任何在activeProfile中定义的profile id，不论环境设置如何，其对应的 profile都会被激活。如果没有匹配的profile，则什么都不会发生。</p><p>例如，env-test是一个activeProfile，则在pom.xml（或者profile.xml）中对应id的profile会被激活。如果运行过程中找不到这样一个profile，Maven则会像往常一样运行。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                      https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 要激活的profile id --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>env-test<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Maven 基础</title>
    <link href="http://example.com/2020/11/09/Maven%E5%9F%BA%E7%A1%80%EF%BC%88%E5%8F%82%E8%80%83%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%80%81%E5%B8%88%E7%9A%84%E6%95%99%E7%A8%8B%EF%BC%89/"/>
    <id>http://example.com/2020/11/09/Maven%E5%9F%BA%E7%A1%80%EF%BC%88%E5%8F%82%E8%80%83%E5%BB%96%E9%9B%AA%E5%B3%B0%E8%80%81%E5%B8%88%E7%9A%84%E6%95%99%E7%A8%8B%EF%BC%89/</id>
    <published>2020-11-09T01:16:29.379Z</published>
    <updated>2020-11-09T01:55:52.091Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Maven-基础"><a href="#Maven-基础" class="headerlink" title="Maven 基础"></a>Maven 基础</h2><blockquote><p>参考：<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1255945359327200">廖雪峰老师的教程</a></p></blockquote><h3 id="Maven介绍"><a href="#Maven介绍" class="headerlink" title="Maven介绍"></a>Maven介绍</h3><h4 id="什么是Maven"><a href="#什么是Maven" class="headerlink" title="什么是Maven"></a>什么是Maven</h4><p>普通Java项目每一个项目都自己搞一套配置，使得协同开发管理麻烦。为解决这个问题，我们需要一个标准化的Java项目管理和构建工具。</p><p>Maven就是专门为Java项目打造的管理和构建工具，它主要功能有：</p><ul><li>提供了一套标准化的项目结构；</li><li>提供了一套标准化的构建流程（编译，测试，打包，发布）；</li><li>提供了一套依赖管理机制。</li></ul><h4 id="Maven项目结构"><a href="#Maven项目结构" class="headerlink" title="Maven项目结构"></a>Maven项目结构</h4><p>一个使用Maven管理的普通的Java项目，它的目录结构默认如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a-maven-project</span><br><span class="line">├── pom.xml</span><br><span class="line">├── src</span><br><span class="line">│   ├── main</span><br><span class="line">│   │   ├── java</span><br><span class="line">│   │   └── resources</span><br><span class="line">│   └── test</span><br><span class="line">│       ├── java</span><br><span class="line">│       └── resources</span><br><span class="line">└── target</span><br></pre></td></tr></table></figure><p>项目的根目录<code>a-maven-project</code>是项目名，它有一个项目描述文件<code>pom.xml</code>，存放Java源码的目录是<code>src/main/java</code>，存放资源文件的目录<code>sec/main/resources</code>，存放测试源码的目录是<code>src/test/java</code>，存放测试资源的目录是<code>src/test/resources</code>，最后，所有编译、打包生成的文件都放在<code>target</code>目录里。这些就是一个Maven项目的标准目录结构。</p><p>所有的目录结构都是约定好的标准结构，千万不要随意更改目录结构。使用标准结构不需要做任何配置，Maven就可以正常使用。</p><p>现在我们来看<strong>最关键的一个项目描述文件</strong><code>pom.xml</code>，它的内容长得像下面：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">...</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中，<code>groupId</code>类似于Java的包名，通常是公司或组织名称，<code>artifactId</code>类似于Java的类名，通常是项目名称，再加上<code>version</code>，一个Maven工程就是由<code>groupId</code>，<code>artifactId</code>和<code>version</code>作为唯一标识。我们在引用其他第三方库的时候，也是通过这3个变量确定。例如，依赖<code>commons-logging</code>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用<code>&lt;dependency&gt;</code>声明一个依赖后，Maven就会自动下载这个依赖包并把它放到classpath中。</p><h4 id="安装Maven"><a href="#安装Maven" class="headerlink" title="安装Maven"></a>安装Maven</h4><p>（略）</p><h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>Maven是一个Java项目的管理和构建工具：</p><ul><li>Maven使用<code>pom.xml</code>定义项目内容，并使用预设的目录结构；</li><li>在Maven中声明一个依赖项可以自动下载并导入classpath；</li><li>Maven使用<code>groupId</code>，<code>artifactId</code>和<code>version</code>唯一定位一个依赖。</li></ul><h3 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h3><p>如果我们的项目依赖第三方的jar包，例如commons logging，那么commons logging发布的jar包在哪下载？</p><p>如果我们还希望依赖log4j，那么使用log4j需要哪些jar包？</p><p>类似的依赖还包括：JUnit，JavaMail，MySQL驱动等等，我们以前是通过搜索引擎搜索到项目的官网，然后手动下载zip包，解压，放入classpath。但是，这个过程非常繁琐。</p><p>Maven解决了依赖管理问题。例如，我们的项目依赖<code>abc</code>这个jar包，而<code>abc</code>又依赖<code>xyz</code>这个jar包：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">┌──────────────┐</span><br><span class="line">│Sample Project│</span><br><span class="line">└──────────────┘</span><br><span class="line">        │</span><br><span class="line">        ▼</span><br><span class="line">┌──────────────┐</span><br><span class="line">│     abc      │</span><br><span class="line">└──────────────┘</span><br><span class="line">        │</span><br><span class="line">        ▼</span><br><span class="line">┌──────────────┐</span><br><span class="line">│     xyz      │</span><br><span class="line">└──────────────┘</span><br></pre></td></tr></table></figure><p>当我们声明了<code>abc</code>的依赖时，Maven自动把<code>abc</code>和<code>xyz</code>都加入了我们的项目依赖，不需要我们自己去研究<code>abc</code>是否需要依赖<code>xyz</code>。</p><p>因此，Maven的第一个作用就是解决依赖管理。我们声明了自己的项目需要<code>abc</code>，Maven会自动导入<code>abc</code>的jar包，再判断出<code>abc</code>需要<code>xyz</code>，又会自动导入<code>xyz</code>的jar包，这样，最终我们的项目会依赖<code>abc</code>和<code>xyz</code>两个jar包。</p><p>我们来看一个复杂依赖示例：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当我们声明一个<code>spring-boot-starter-web</code>依赖时，Maven会自动解析并判断最终需要大概二三十个其他依赖：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">spring-boot-starter-web</span><br><span class="line">  spring-boot-starter</span><br><span class="line">    spring-boot</span><br><span class="line">    sprint-boot-autoconfigure</span><br><span class="line">    spring-boot-starter-logging</span><br><span class="line">      logback-classic</span><br><span class="line">        logback-core</span><br><span class="line">        slf4j-api</span><br><span class="line">      jcl-over-slf4j</span><br><span class="line">        slf4j-api</span><br><span class="line">      jul-to-slf4j</span><br><span class="line">        slf4j-api</span><br><span class="line">      log4j-over-slf4j</span><br><span class="line">        slf4j-api</span><br><span class="line">    spring-core</span><br><span class="line">    snakeyaml</span><br><span class="line">  spring-boot-starter-tomcat</span><br><span class="line">    tomcat-embed-core</span><br><span class="line">    tomcat-embed-el</span><br><span class="line">    tomcat-embed-websocket</span><br><span class="line">      tomcat-embed-core</span><br><span class="line">  jackson-databind</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>如果我们自己去手动管理这些依赖是非常费时费力的，而且出错的概率很大。</p><h4 id="依赖关系"><a href="#依赖关系" class="headerlink" title="依赖关系"></a>依赖关系</h4><p>Maven定义了几种依赖关系，分别是<code>compile</code>、<code>test</code>、<code>runtime</code>和<code>provided</code>：</p><table><thead><tr><th align="left">scope</th><th align="left">说明</th><th align="left">示例</th></tr></thead><tbody><tr><td align="left">compile</td><td align="left">编译时需要用到该jar包（默认）</td><td align="left">commons-logging</td></tr><tr><td align="left">test</td><td align="left">编译Test时需要用到该jar包</td><td align="left">junit</td></tr><tr><td align="left">runtime</td><td align="left">编译时不需要，但运行时需要用到</td><td align="left">mysql</td></tr><tr><td align="left">provided</td><td align="left">编译时需要用到，但运行时由JDK或某个服务器提供</td><td align="left">servlet-api</td></tr></tbody></table><p>其中，默认的<code>compile</code>是最常用的，Maven会把这种类型的依赖直接放入classpath。<code>test</code>依赖表示仅在测试时使用，正常运行时并不需要。最长用的<code>test</code>依赖就是JUnit：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>runtime</code>依赖表示编译时不需要，但运行时需要。典型的<code>runtime</code>依赖时JDBC驱动，例如MySQL驱动：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.48<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>provided</code>依赖表示编译时需要，但运行时不需要。最典型的<code>provided</code>依赖时ServletAPI，编译的时候需要，但是运行时，Servlet服务器内置了相关的jar，所以运行期不需要：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>最后一个问题是，Maven如何知道从何处消灾所需的依赖（也就是jar包）？答案是Maven维护了一个仓库（<a href="repo1.maven.org"></a>），所有第三方库将自身的jar以及相关信息上传至中央仓库，Maven就可以从中央仓库把所需依赖下载到本地。</p><p>Maven并不会每次都从中央仓库下载jar包。一个jar包一旦被下载过，就会被Maven自动缓存在本地目录（用户主目录的<code>.m2</code>目录），所以，除了第一次编译时因为下载需要时间会比较慢，后续过程因为有本地缓存，并不会重复下载相同的jar包。</p><h4 id="唯一ID"><a href="#唯一ID" class="headerlink" title="唯一ID"></a>唯一ID</h4><p>对于某个依赖，Maven只需要3个变量即可唯一确定某个jar包：</p><ul><li>groupId：属于组织名称，类似Java的包名；</li><li>artifactId：该jar包自身的名称，类似Java的类名；</li><li>version：该jar包的版本。</li></ul><p>通过上述3个变量，即可唯一确定某个jar包。Maven通过对jar包进行PGP签名确保任何一个jar包一经发布就无法修改。修改已发布jar包的唯一方法是发布一个新版本。</p><p>因此，某个jar包一旦被Maven下载过，即可永久地安全缓存在本地。</p><p>注：只有以<code>-SNAPSHOT</code>结尾的版本号会被Maven视为开发版本，开发版本每次都会重复下载，这种SNAPSHOT版本只能用于内部私有的Maven repo，公开发布的版本不允许出现SNAPSHOT。</p><h4 id="Maven镜像"><a href="#Maven镜像" class="headerlink" title="Maven镜像"></a>Maven镜像</h4><p>除了可以从Maven的中央仓库下载外，还可以从Maven的镜像仓库下载。如果访问Maven的中央仓库非常慢，我们可以选择一个速度较快的Maven的镜像仓库。Maven镜像仓库定期从中央仓库同步：</p><p>镜像仓库定期从中央仓库同步：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">           slow    ┌───────────────────┐</span><br><span class="line">    ┌─────────────&gt;│Maven Central Repo.│</span><br><span class="line">    │              └───────────────────┘</span><br><span class="line">    │                        │</span><br><span class="line">    │                        │sync</span><br><span class="line">    │                        ▼</span><br><span class="line">┌───────┐  fast    ┌───────────────────┐</span><br><span class="line">│ User  │─────────&gt;│Maven Mirror Repo. │</span><br><span class="line">└───────┘          └───────────────────┘</span><br></pre></td></tr></table></figure><p>中国区用户可以使用阿里云提供的Maven镜像仓库。使用Maven镜像仓库需要一个配置，在用户主目录下进入<code>.m2</code>目录，创建一个<code>settings.xml</code>配置文件，内容如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 国内推荐阿里云的Maven镜像 --&gt;</span>           <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置镜像仓库后，Maven的下载速度就会非常快。</p><h4 id="搜索第三方组件"><a href="#搜索第三方组件" class="headerlink" title="搜索第三方组件"></a>搜索第三方组件</h4><p>最后一个问题：如果我们要引用一个第三方组件，比如<code>okhttp</code>，如何确切地获得它的<code>groupId</code>、<code>artifactId</code>和<code>version</code>？方法是通过<a href="https://search.maven.org/">search.maven.org</a>搜索关键字，找到对应的组件后，直接复制：</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/l.png" alt="l"></p><h4 id="命令行编译"><a href="#命令行编译" class="headerlink" title="命令行编译"></a>命令行编译</h4><p>在命令中，进入到<code>pom.xml</code>所在目录，输入以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mvn clean package</span></span><br></pre></td></tr></table></figure><p>如果一切顺利，即可在<code>target</code>目录下获得编译后自动打包的jar。</p><h4 id="IDEA中使用Maven"><a href="#IDEA中使用Maven" class="headerlink" title="IDEA中使用Maven"></a>IDEA中使用Maven</h4><p>（稍后再写）</p><h4 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h4><p>从<a href="https://gitee.com/"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAYCAMAAABjozvFAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURf////zz8//9/f34+PXMzPbV1Pba2f////TJyPPFxf38+////wAAAMcdI7sAAMMADQEBAbgAALwAALoAALkAAL8AAMopLskgJsgiJ8cfJfbS0vzy8ckoLLMAAM87Pd3d3cgbInt7e8YPGnBwcMcXH4CAgL0AALcAAOB7et1tboWFhUNDQwcHB8MAD1ZWVsEAAdXV1cYMGb4AABQUFLUAAMQBEwMDA+Hh4aysrJ2dnTIyMh4eHvT09Ombmvn5+cDAwKGhofv7+7YAADQ0NN9yc/ro6aWlpcIACsAAABcXF5KSknd3d0dHRw0NDWxsbMMAC/G8vO+0syUlJcUUHBwcHEVFRVBQUPX19cQAEf7+/kBAQM7OzlNTU8AABsIABrQAAP329scRG8ssL91ubvPz86ioqOqfn8rKykJCQsXFxdvb25+fn6Kior29vQkJCZWVldtlZeKCgampqSYmJhEREQ8PD7e3tycnJ7S0tNFCROuhoP3y8pubm4yMjGZmZsjIyE1NTfLAwPrj5ImJicMHFe/v73FxcdHR0QwMDNra2uJ/fuypqNA/QJaWln5+fnR0dPnf3mNjY1lZWUtLS+qjopiYmCoqKsgjKNZUVeaQkDY2NiIiIs01OOrq6swvMsUKF8EABN92djw8POB7e8nJycojKM45PP3z8s87PvfX1u+0tMQEFOTk5IKCgu7u7tlhYeulpNhdXTg4OPfZ2PTNzPnf4BoaGqSkpPTKyuyoqMHBweyrrNfX1/Dw8E9PT8/Pz42Nja6uroiIiGFhYf37+ttkZHp6eufn5+SLi0FBQYaGhnNzc5mZmdpgYOB4d8IAEVhYWFJSUsklKcvLy8QPGvXR0OiYmbKyso+Pj7GxsdLS0nx8fMcXHhYWFv79/eB3d8EADOeUlPXT0uF6eV1dXeSKihISEsTExIODg9JHST4+Pvvv7/rn5/zx8NxpatJFRt1wcfvq6q4AAPjc2990dasAAMYbIddYWfXOze2ur++3t////uF+ff3399hbXMkeJnevGJYAAAALdFJOU/Ly8vLy8vLl8vLy6tdKuQAAA5RJREFUOMullWd4FFUUhhdRg55vNtsLapLVZXdJ7zFogBTSe4f0Qu8dlA4CAULvvXcQ7KiAXYqCgmLHCtbYu1ju3JnZzY/wrIHvx73n3Oebd55zq8pH5VaHmzrdcuPNquuQj4oUdd5iCQlLrzq78UQvalsHG8mbVArvjFFb/UbR+0UR6dqQhDato4aN7eGVJuFa1ifNMgtcVnNV0otteWOB0azbH+cV90K91rwqxKGWpEtzjmjD+1xwTk+i/rGagd5wrzpXmdU7fuva0JWpoWFBTE3C1b4YDNztBTfdabfoVntWoJ82JP1RJZk6O3vKM5Mzm2hD86QyGjgAmBboz8b7Twla+hZ3xGUFHRviwfVeoDMbN7Ls4l8S4ZLekjRSpi2EpHtoETCYpGQA0UweLGKOCbFilO3GPWwsEgzL6e8r/+70Y9rtt8MupFnu57RwoLi5BFjZTLlAIAXNBTLGD6ehQFToSqAH+QPDXgsC+iq4+/RCXfUe+rPG6LyDy2gSAnT5HPcS8A6RBq8Q3QW8R1QJsAWhEkSxthhZtAQaVvtaJCu4FL01onwP/aHb988Vl8u1bdvEciFAfYjjhgOTqUmDUxzXhSgUSCU6qkHUksrPLmMZnYRmaWVoBtBdxh3WCXf6dqa9hhh5vi5oGa4fD7snA6U5QJyCe12cQbFCSbmULEfrFNyDagmnj/m9tnYXY6zRu3E0SrSOFveGhFvGN8q9wRi7vWJ7eEUi9QEmzJka/m6jUuw8g1XEFTjqzPX1v5p+EHGCej6nPRCFz8su8tBdbC5LSqFJlf53mg+32ncF6gARd+RHvTM6+pd9LfSxQbA7HlFWNvuLhba35xA9D8wmyhQ3TTwdZ90Hhcgoo4NjgLnjAX8F1ytvlohb/P0Wl+vnlJ+IPtVbIyfKP5wmT80kCgTiiRofYkk3onHFfDeyEgd1E6Pgp92nYoShzneG56h88tEmS/RyKd6wNbikz1drNRhDNPRJPtTXdqCJdYmpWTb5hhlnsz2b6DlkMxyb8/Jv+7pF1K5vCjZFmnSmWsm5FetY2zsHj9H/kHwFJNREWE23c5mskdWmNMMTsoGtW2nmzEJgSDtwlBIdFuPLlVduP2fUHlEML/OJQeHj1B4cjVSr7dL9aYnQGp9qZTm/IjC+gqh9OJq+U2eI3FwV5tCGrV5M1yiV5+mh/G+/81u/+8sP36Rrl8qn9cN2a8cbVNf1MP4HCWMMeoGMWdIAAAAASUVORK5CYII=" alt="img"></a>下载练习：<a href="https://gitee.com/liaoxuefeng/learn-java/blob/master/practices/Java%E6%95%99%E7%A8%8B/140.Maven%E5%9F%BA%E7%A1%80.1255945359327200/20.%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86.1309301178105890/maven-hello.zip?utm_source=blog_lxf">使用Maven编译hello项目</a> （推荐使用<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1266092093733664">IDE练习插件</a>快速下载）</p><p>Maven通过解析依赖关系确定项目所需的jar包，常用的4种<code>scope</code>有：<code>compile</code>（默认），<code>test</code>，<code>runtime</code>和<code>provided</code>；</p><h3 id="构建流程"><a href="#构建流程" class="headerlink" title="构建流程"></a>构建流程</h3><p>Maven不但有标准化的项目结构，而且还有一套标准化的构建流程，可以自动化实现编译，打包，发布，等等。</p><h4 id="Lifecycle和Phase"><a href="#Lifecycle和Phase" class="headerlink" title="Lifecycle和Phase"></a>Lifecycle和Phase</h4><p>使用Maven时，我们首先要了解什么是Maven的生命周期（lifecycle）。</p><p>Maven的生命周期由一系列阶段（phase）构成，以内置的生命周期<code>default</code>为例，它包含以下phase：</p><ul><li>validate</li><li>initialize</li><li>generate-sources</li><li>process-sources</li><li>generate-resources</li><li>process-resources</li><li>compile</li><li>process-classes</li><li>generate-test-sources</li><li>process-test-sources</li><li>generate-test-resources</li><li>process-test-resources</li><li>test-compile</li><li>process-test-classes</li><li>test</li><li>prepare-package</li><li>package</li><li>pre-integration-test</li><li>integration-test</li><li>post-integration-test</li><li>verify</li><li>install</li><li>deploy</li></ul><p>如果我们运行<code>mvn package</code>，Maven就会执行<code>default</code>生命周期，他会从一开始一直运行到<code>package</code>这个phase为止：</p><ul><li>validate</li><li>…</li><li>package</li></ul><p>如果我们运行<code>mvn compile</code>，Maven也会执行<code>default</code>生命周期，但这次它只会运行到<code>compile</code>，即一下几个phase：</p><ul><li>validate</li><li>…</li><li>compile</li></ul><p>Maven另一个常用的生命周期是<code>clean</code>，它会执行3个phase：</p><ul><li><p>pre-clean</p></li><li><p>clean（注意这个clean不是lifecycle而是phase）</p></li><li><p>post-clean</p></li></ul><p>所以，我们使用<code>mvn</code>这个命令时，后面的参数是phase，Maven自动根据生命周期运行到指定的phase。</p><p>更复杂的例子是指定多个phase，例如，运行<code>mvn clean package</code>，Maven先执行<code>clean</code>生命周期并运行到<code>clean</code>这个phase，然后执行<code>default</code>生命周期并运行到<code>package</code>这个phase，实际执行的phase如下：</p><ul><li>pre-clean</li><li>clean （注意这个clean是phase）</li><li>validate</li><li>…</li><li>package</li></ul><p>在实际开发过程中，经常使用的命令有：</p><p><code>mvn clean</code>：清理所有生成的class和jar；</p><p><code>mvn clean compile</code>：先清理，再执行到compile；</p><p><code>mvn clean test</code>：先清理，再执行到test，因为执行<code>test</code>前必须执行<code>compile</code>，所以这里不必指定<code>compile</code>；</p><p><code>mvn clean package</code>：先清理，再执行到<code>package</code>。</p><p>大多数phase在执行过程中，因为我们通常没有在<code>pom.xml</code>中配置相关的设置，所以这些phase什么事情都不做。</p><p>经常用到的phase其实只有几个：</p><ul><li>clean：清理</li><li>compile：编译</li><li>test：运行测试</li><li>package：打包</li></ul><h4 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h4><p>执行一个phase又会触发一个或多个goal：</p><table><thead><tr><th align="left">执行的Phase</th><th align="left">对应执行的Goal</th></tr></thead><tbody><tr><td align="left">compile</td><td align="left">compiler:compile</td></tr><tr><td align="left">test</td><td align="left">compiler:testCompile surefire:test</td></tr></tbody></table><p>goal的命名总是<code>abc:xyz</code>这种形式。</p><p>看到这里，相信大家对lifecycle、phase和goal已经明白了吧？</p><p><img src="https://malloc-img.oss-cn-hangzhou.aliyuncs.com/img/ll.jpg" alt="ll"></p><p>其实我们类比一下就明白了：</p><ul><li>lifecycle相当于Java的package，它包含一个或多个phase；</li><li>phase相当于Java的class，它包含一个或多个goal；</li><li>goal相当于class的method，它其实才是真正干活的。</li></ul><p>大多数情况，我们只要指定phase，就默认执行这些phase默认绑定的goal，只有少数情况，我们可以直接指定运行一个goal，例如，启动Tomcat服务器：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn tomcat:run</span><br></pre></td></tr></table></figure><h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3><p>Maven通过lifecycle、phase和goal来提供标准的构建流程。</p><p>最常用的构建命令是指定phase，然后让Maven执行到指定的phase：</p><ul><li>mvn clean</li><li>mvn clean compile</li><li>mvn clean test</li><li>mvn clean package</li></ul><p>通常情况，我们总是执行phase默认绑定的goal，因此不必指定goal。</p><h3 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h3>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2020/11/09/Maven%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://example.com/2020/11/09/Maven%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</id>
    <published>2020-11-09T01:16:29.372Z</published>
    <updated>2020-10-16T07:51:57.440Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Maven常用命令"><a href="#Maven常用命令" class="headerlink" title="Maven常用命令"></a>Maven常用命令</h2><p>Maven的命令格式如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn [plugin-name]:[goal-name]</span><br></pre></td></tr></table></figure><p>该命令的意思是：执行<code>plugin-name</code>插件的<code>goal-name</code>目标。</p><p>用户可以通过两种方式调用Maven插件的目标：</p><ol><li>将插件目标与生命周期阶段<code>lifecycle phase</code>绑定，这样用户在命令行只是输入生命周期阶段而已，例如Maven默认将<code>maven-compiler-plugin</code>的<code>compile</code>目标与<code>compile</code>生命周期阶段绑定，因此命令<code>mvn compile</code>实际上是先定位到<code>compile</code>这一生命周期阶段，然后再根据绑定关系调用<code>maven-compiler-plugin</code>的<code>compile</code>目标。</li><li>直接在命令行指定要执行的插件目标，例如<code>mvnarchetype:generate</code>就表示调用<code>maven-archetype-plugin</code>的<code>generate</code>目标，这种带冒号的调用方式与生命周期无关。</li></ol><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>mvn -version</td><td>显示版本信息</td></tr><tr><td>mvn clean</td><td>清理项目生产的临时文件,一般是模块下的target目录</td></tr><tr><td>mvn compile</td><td>编译源代码，一般编译模块下的src/main/java目录</td></tr><tr><td>mvn package</td><td>项目打包工具,会在模块下的target目录生成jar或war等文件</td></tr><tr><td>mvn test</td><td>测试命令,或执行src/test/java/下junit的测试用例.</td></tr><tr><td>mvn install</td><td>将打包的jar/war文件复制到你的本地仓库中,供其他模块使用</td></tr><tr><td>mvn deploy</td><td>将打包的文件发布到远程参考,提供其他人员进行下载依赖</td></tr><tr><td>mvn site</td><td>生成项目相关信息的网站</td></tr><tr><td>mvn eclipse:eclipse</td><td>将项目转化为Eclipse项目</td></tr><tr><td>mvn dependency:tree</td><td>打印出项目的整个依赖树</td></tr><tr><td>mvn archetype:generate</td><td>创建Maven的普通java项目</td></tr><tr><td>mvn tomcat:run</td><td>在tomcat容器中运行web应用</td></tr><tr><td>mvn jetty:run</td><td>调用 Jetty 插件的 Run 目标在 Jetty Servlet 容器中启动 web 应用</td></tr></tbody></table><blockquote><p>注意：运行maven命令的时候，首先需要定位到maven项目的目录，也就是项目的pom.xml文件所在的目录。否则，必以通过参数来指定项目的目录。</p></blockquote><h3 id="命令参数"><a href="#命令参数" class="headerlink" title="命令参数"></a>命令参数</h3><p>上面列举的只是比较通用的命令，其实很多命令都可以携带参数以执行更精准的任务。Maven命令可携带的参数类型如下：</p><h4 id="1-D传入属性参数"><a href="#1-D传入属性参数" class="headerlink" title="1. -D传入属性参数"></a>1. -D传入属性参数</h4><p>比如命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure><p>以<code>-D</code>开头，将<code>maven.test.skip</code> 的值设为<code>true</code>,就是告诉maven打包的时候跳过单元测试。同理，<code>mvn deploy-Dmaven.test.skip=true</code>代表部署项目并跳过单元测试。</p><h4 id="2-P-使用指定的Profile配置"><a href="#2-P-使用指定的Profile配置" class="headerlink" title="2. -P 使用指定的Profile配置"></a>2. -P 使用指定的Profile配置</h4><p>比如项目开发需要有多个环境，一般为开发，测试，预发，正式4个环境，在pom.xml中的配置如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>qa<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>qa<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>pre<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>pre<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">......</span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">filters</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">filter</span>&gt;</span>config/$&#123;env&#125;.properties<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">filters</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">      ......</span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>profiles</code>定义了各个环境的变量<code>id</code>，<code>filters</code>中定义了变量配置文件的地址，其中地址中的环境变量就是上面<code>profile</code>中定义的值，<code>resources</code>中是定义哪些目录下的文件会被配置文件中定义的变量替换。</p><p>通过maven可以实现按不同环境进行打包部署，命令为:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -P dev</span><br></pre></td></tr></table></figure><p>其中<code>dev</code>为环境的变量id,代表使用Id为<code>dev</code>的<code>profile</code>。</p><h4 id="3-e-显示maven运行出错的信息"><a href="#3-e-显示maven运行出错的信息" class="headerlink" title="3. -e 显示maven运行出错的信息"></a>3. -e 显示maven运行出错的信息</h4><h4 id="4-o-离线执行命令-即不去远程仓库更新包"><a href="#4-o-离线执行命令-即不去远程仓库更新包" class="headerlink" title="4. -o 离线执行命令,即不去远程仓库更新包"></a>4. -o 离线执行命令,即不去远程仓库更新包</h4><h4 id="5-X-显示maven允许的debug信息"><a href="#5-X-显示maven允许的debug信息" class="headerlink" title="5. -X 显示maven允许的debug信息"></a>5. -X 显示maven允许的debug信息</h4><h4 id="6-U-强制去远程更新snapshot的插件或依赖，默认每天只更新一次"><a href="#6-U-强制去远程更新snapshot的插件或依赖，默认每天只更新一次" class="headerlink" title="6. -U 强制去远程更新snapshot的插件或依赖，默认每天只更新一次"></a>6. -U 强制去远程更新snapshot的插件或依赖，默认每天只更新一次</h4><h3 id="maven命令实例"><a href="#maven命令实例" class="headerlink" title="maven命令实例"></a>maven命令实例</h3><p>下面结合几个实例来看看maven命令的使用方法。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">archetype:create &amp; archetype:generate</span><br></pre></td></tr></table></figure><p><code>archetype</code>是<code>原型</code>的意思，maven可以根据各种原型来快速创建一个maven项目。</p><p><code>archetype:create</code>是maven 3.0.5之前创建项目的命令，例如创建一个普通的Java项目：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:create -DgroupId=packageName -DartifactId=projectName -Dversion=1.0.0-SNAPSHOT</span><br></pre></td></tr></table></figure><p>后面的三个参数用于指定项目的<code>groupId</code>、<code>artifactId</code>以及<code>version</code>。</p><p>创建Maven的Web项目：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:create -DgroupId=packageName -DartifactId=projectName -DarchetypeArtifactId=maven-archetype-webapp</span><br></pre></td></tr></table></figure><p><code>archetypeArtifactId</code>参数用于指定使用哪个maven原型，这里使用的是<code>maven-archetype-webapp</code>，maven会按照web应用的目录结构生成项目。</p><p>需要注意的是，在maven 3.0.5之后，archetype:create命令不在使用，取而代之的是archetype:generate命令。</p><blockquote><p>Eclipse Maven允许操作</p></blockquote><p><img src="D:\blog\img\webp" alt="img"></p><blockquote><p>IDEA Maven运行操作</p></blockquote><p><img src="D:\blog\img\webp2" alt="img"></p><p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20201016155129717.png" alt="image-20201016155129717"></p><p>都要选择在运行的项目的pom文件目录</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
</feed>
